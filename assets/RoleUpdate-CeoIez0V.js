import{Y as d,aq as c,r,o as v,a0 as s,a6 as f,h as V,a1 as g,a5 as _,F as R}from"./index-eSwy3xtz.js";import{a as k,u as h}from"./acl.repository-D4gBC5dN.js";import{_ as B}from"./Role.vue_vue_type_script_setup_true_lang-BoziuQLp.js";import{L as U}from"./Loading-hKRZaAhx.js";import"./LayoutView.vue_vue_type_script_setup_true_lang-IMetWSzZ.js";import"./VRow-CBFz3Dht.js";import"./VSheet-D4hldqhc.js";import"./validator-CPDVkU8G.js";import"./index-C-zpw9ZX.js";import"./VTextField-MS4vxye7.js";import"./VSelectionControl--XLGJQvK.js";import"./VForm-DmbiyfSH.js";import"./VSlideGroup-04aVnn54.js";import"./VWindowItem-CYT4qauv.js";import"./ssrBoot-Bs0WsREi.js";import"./string-D3I3Kuho.js";import"./VContainer-Clag2u1U.js";const D=d({__name:"RoleUpdate",props:{id:{}},setup(m){const n=m,u=c(),t=r(!1),o=r({id:"",name:"",scopes:[],users:[],level:1,is_default:!0}),p=()=>{t.value=!0,k(n.id).then(a=>{o.value=a.data,o.value.scopes=o.value.scopes.map(e=>e.slug?e.slug:e)}).catch(a=>{console.error(a)}).finally(()=>{t.value=!1})},i=()=>{h(o.value).then(()=>{u.push({name:"management.acl"})}).catch(a=>{console.error(a)})};return v(()=>{p()}),(a,e)=>(s(),f(R,null,[V(U,{modelValue:t.value,"onUpdate:modelValue":e[0]||(e[0]=l=>t.value=l)},null,8,["modelValue"]),t.value?_("",!0):(s(),g(B,{key:0,modelValue:o.value,"onUpdate:modelValue":e[1]||(e[1]=l=>o.value=l),onSave:i},null,8,["modelValue"]))],64))}});export{D as default};
