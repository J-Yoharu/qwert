import{m as ie,V as E,b as re,a as F}from"./VWindowItem-CckFte31.js";import{p as q,I as le,g as G,u as se,aJ as de,r as y,w as M,o as N,f as K,h as t,F as $,D as ce,a8 as L,i as I,as as ue,E as fe,br as me,a3 as J,Y as R,c as k,b6 as X,a0 as b,a1 as j,a2 as i,aW as H,a4 as A,ab as P,af as p,ae as ve,a6 as C,ac as T,a5 as pe,a7 as U,a$ as _e,ak as ge,b0 as we}from"./index-CONA2sxp.js";import{_ as Z,r as Y,c as he,a as be}from"./Init.vue_vue_type_script_setup_true_lang-Bj1cgaHg.js";import{V,a as _}from"./VRow-BtGaPkBM.js";import{V as ee}from"./VForm-CFmF0a95.js";import{V as te}from"./VTextField-BckJyTD4.js";import{V as ye}from"./VSheet-DA1WNEfX.js";const De=q({color:String,cycle:Boolean,delimiterIcon:{type:le,default:"$delimiter"},height:{type:[Number,String],default:500},hideDelimiters:Boolean,hideDelimiterBackground:Boolean,interval:{type:[Number,String],default:6e3,validator:e=>Number(e)>0},progress:[Boolean,String],verticalDelimiters:[Boolean,String],...ie({continuous:!0,mandatory:"force",showArrows:!0})},"VCarousel"),Ye=G()({name:"VCarousel",props:De(),emits:{"update:modelValue":e=>!0},setup(e,d){let{slots:o}=d;const n=se(e,"modelValue"),{t:u}=de(),r=y();let c=-1;M(n,g),M(()=>e.interval,g),M(()=>e.cycle,S=>{S?g():window.clearTimeout(c)}),N(D);function D(){!e.cycle||!r.value||(c=window.setTimeout(r.value.group.next,+e.interval>0?+e.interval:6e3))}function g(){window.clearTimeout(c),window.requestAnimationFrame(D)}return K(()=>{const S=E.filterProps(e);return t(E,I({ref:r},S,{modelValue:n.value,"onUpdate:modelValue":x=>n.value=x,class:["v-carousel",{"v-carousel--hide-delimiter-background":e.hideDelimiterBackground,"v-carousel--vertical-delimiters":e.verticalDelimiters},e.class],style:[{height:fe(e.height)},e.style]}),{default:o.default,additional:x=>{let{group:s}=x;return t($,null,[!e.hideDelimiters&&t("div",{class:"v-carousel__controls",style:{left:e.verticalDelimiters==="left"&&e.verticalDelimiters?0:"auto",right:e.verticalDelimiters==="right"?0:"auto"}},[s.items.value.length>0&&t(ce,{defaults:{VBtn:{color:e.color,icon:e.delimiterIcon,size:"x-small",variant:"text"}},scoped:!0},{default:()=>[s.items.value.map((l,f)=>{const w={id:`carousel-item-${l.id}`,"aria-label":u("$vuetify.carousel.ariaLabel.delimiter",f+1,s.items.value.length),class:["v-carousel__controls__item",s.isSelected(l.id)&&"v-btn--active"],onClick:()=>s.select(l.id,!0)};return o.item?o.item({props:w,item:l}):t(L,I(l,w),null)})]})]),e.progress&&t(ue,{class:"v-carousel__progress",color:typeof e.progress=="string"?e.progress:void 0,modelValue:(s.getItemIndex(n.value)+1)/s.items.value.length*100},null)])},prev:o.prev,next:o.next})}),{}}}),Se=q({...me(),...re()},"VCarouselItem"),et=G()({name:"VCarouselItem",inheritAttrs:!1,props:Se(),setup(e,d){let{slots:o,attrs:n}=d;K(()=>{const u=J.filterProps(e),r=F.filterProps(e);return t(F,I({class:"v-carousel-item"},r),{default:()=>[t(J,I(n,u),o)]})})}}),Q=new Date;Q.setHours(Q.getHours()+1);const B={"00000000000":{id:"00000000000",first_name:"João",phone_hint:"0251",birth_date:"00/00/0000",has_face_recognition:!0,schedules:[{id:"id01",date:new Date().toLocaleDateString("pt-BR").split("/").reverse().join("-")+" "+new Date().getHours()+":"+new Date().getMinutes(),doctor:{id:"doctor-01",name:"Pablo Antonio"},specialty:{id:"fwefwefwefwef",name:"Ortopedia"},conventant:{id:"conv-01",name:"Unimed"}},{id:"id02",date:new Date().toLocaleDateString("pt-BR").split("/").reverse().join("-")+" "+(new Date().getHours()+1)+":"+new Date().getMinutes(),doctor:{id:"doctor-02",name:"David Jesus"},specialty:{id:"fwefwefwefwef2",name:"Cardiologia"},conventant:{id:"conv-02",name:"Amil"}},{id:"id03",date:new Date().toLocaleDateString("pt-BR").split("/").reverse().join("-")+" "+(new Date().getHours()+2)+":"+new Date().getMinutes(),doctor:{id:"doctor-03",name:"Igor Ribeiro"},specialty:{id:"fwefwefwefwef3",name:"Urologista"},conventant:{id:"conv-03",name:"Sulamerica"}}]},"11111111111":{id:"11111111111",first_name:"Jessica",phone_hint:"0251",has_face_recognition:!0,birth_date:"11/11/1111",schedules:[{id:"id01",date:new Date().toLocaleDateString("pt-BR").split("/").reverse().join("-")+" "+new Date().getHours()+":"+new Date().getMinutes(),doctor:{id:"doctor-01",name:"Pablo Antonio"},specialty:{id:"fwefwefwefwef",name:"Ortopedia"},conventant:{id:"conv-01",name:"Unimed"},guide:{url:"https://drive.google.com/file/d/1-K9QNOdOmcPNOSR1hfbxGCo04OkOERZ4/preview"}},{id:"id02",date:new Date().toLocaleDateString("pt-BR").split("/").reverse().join("-")+" "+(new Date().getHours()+1)+":"+new Date().getMinutes(),doctor:{id:"doctor-02",name:"David Jesus"},specialty:{id:"fwefwefwefwef2",name:"Cardiologia"},conventant:{id:"conv-02",name:"Amil"},guide:{url:"https://drive.google.com/file/d/1-K9QNOdOmcPNOSR1hfbxGCo04OkOERZ4/preview"}},{id:"id03",date:new Date().toLocaleDateString("pt-BR").split("/").reverse().join("-")+" "+(new Date().getHours()+2)+":"+new Date().getMinutes(),doctor:{id:"doctor-03",name:"João Silva"},specialty:{id:"fwefwefwefwef3",name:"Dermatologia"},conventant:{id:"conv-03",name:"Sulamerica"}},{id:"id03",date:new Date().toLocaleDateString("pt-BR").split("/").reverse().join("-")+" "+(new Date().getHours()+3)+":"+new Date().getMinutes(),doctor:{id:"doctor-03",name:"Igor Ribeiro"},specialty:{id:"fwefwefwefwef3",name:"Urologista"},conventant:{id:"conv-03",name:"Sulamerica"}}]},"22222222222":{id:"22222222222",first_name:"Jose",phone_hint:"0251",birth_date:"22/22/2222",has_face_recognition:!0,schedules:[{id:"id01",date:new Date().toLocaleDateString("pt-BR").split("/").reverse().join("-")+" 00:00:00",doctor:{id:"doctor-01",name:"Pablo Antonio"},specialty:{id:"fwefwefwefwef",name:"Ortopedia"},conventant:{id:"conv-01",name:"Unimed"}},{id:"id01",date:new Date().toLocaleDateString("pt-BR").split("/").reverse().join("-")+" 01:00:00",doctor:{id:"doctor-01",name:"Pablo Antonio"},specialty:{id:"fwefwefwefwef",name:"Ortopedia"},conventant:{id:"conv-01",name:"Unimed"}}]},"33333333333":{id:"33333333333",first_name:"Jessica",phone_hint:"0251",birth_date:"33/33/3333",has_face_recognition:!1,schedules:[{id:"id01",date:"2025-01-01 15:30:00",doctor:{id:"doctor-01",name:"Pablo Antonio"},specialty:{id:"fwefwefwefwef",name:"Ortopedia"},conventant:{id:"conv-01",name:"Unimed"}},{id:"id02",date:"2025-04-17 15:30:00",doctor:{id:"doctor-02",name:"David Jesus"},specialty:{id:"fwefwefwefwef2",name:"Cardiologia"},conventant:{id:"conv-02",name:"Amil"}},{id:"id03",date:"2025-05-12 15:30:00",doctor:{id:"doctor-03",name:"João Silva"},specialty:{id:"fwefwefwefwef3",name:"Dermatologia"},conventant:{id:"conv-03",name:"Sulamerica"}},{id:"id03",date:"2025-06-12 15:30:00",doctor:{id:"doctor-03",name:"Igor Ribeiro"},specialty:{id:"fwefwefwefwef3",name:"Urologista"},conventant:{id:"conv-03",name:"Sulamerica"}},{id:"id03",date:"2025-06-12 15:30:00",doctor:{id:"doctor-03",name:"Igor Ribeiro"},specialty:{id:"fwefwefwefwef3",name:"Urologista"},conventant:{id:"conv-03",name:"Sulamerica"}},{id:"id03",date:"2025-06-12 15:30:00",doctor:{id:"doctor-03",name:"Igor Ribeiro"},specialty:{id:"fwefwefwefwef3",name:"Urologista"},conventant:{id:"conv-03",name:"Sulamerica"}},{id:"id03",date:"2025-06-12 15:30:00",doctor:{id:"doctor-03",name:"Igor Ribeiro"},specialty:{id:"fwefwefwefwef3",name:"Urologista"},conventant:{id:"conv-03",name:"Sulamerica"}},{id:"id03",date:"2025-06-12 15:30:00",doctor:{id:"doctor-03",name:"Igor Ribeiro"},specialty:{id:"fwefwefwefwef3",name:"Urologista"},conventant:{id:"conv-03",name:"Sulamerica"}}]},"44444444444":{id:"44444444444",first_name:"Mariana",phone_hint:"0251",birth_date:"44/44/4444",has_face_recognition:!1,schedules:[]}};function Ve(e){return new Promise((d,o)=>{setTimeout(()=>{if(!Object.keys(B).includes(e))return o("Não foi possível encontrar o seu cadastro");const u=B[e];return d({data:u})},2e3)})}function xe(e,d){return new Promise((o,n)=>{setTimeout(()=>{if(!Object.keys(B).includes(e))return n("Não foi possível encontrar o seu cadastro");const r=B[e];return r.birth_date!==d?n("Data de nascimento inválida"):o({data:r})},2e3)})}function ke(){return new Promise((e,d)=>{setTimeout(()=>e({data:{}}),2e3)})}function tt(e,d){return new Promise((o,n)=>{setTimeout(()=>d==="11111111111"?n({data:{}}):o({data:{}}),1e3)})}const Oe=p("h1",null,"Digite a sua data de nascimento",-1),je=R({__name:"BirthDate",props:{data:{}},emits:["alert","next","to","update:data"],setup(e,{emit:d}){const o=y(""),n=y(!1),u=y(),r=y(!1),c=d,D=e,g=k({get:()=>D.data,set:s=>c("update:data",s)});async function S(){n.value&&(r.value=!0,xe(D.data.internal.identifier,o.value).then(s=>{g.value.patient=s.data,g.value.internal.birthDate=o.value,c("next")}).catch(s=>{x(s)}).finally(()=>r.value=!1))}function x(s){c("alert",{title:`Ops, ${s}! :(`,text:"Não se preocupe! Vamos te encaminhar para a recepção",action:{type:"choise",rejectLabel:"Tentar novamente",acceptLabel:"Ok, entendi",callback(l){l?c("to","Queues"):(o.value="",setTimeout(()=>u.value.focus(),500))}}})}return(s,l)=>{const f=X("mask");return b(),j(V,{justify:"center","no-gutters":""},{default:i(()=>[t(_,{cols:"12",md:"11"},{default:i(()=>[t(V,null,{default:i(()=>[t(_,{cols:"12"},{default:i(()=>[t(V,{"no-gutters":"",justify:"center"},{default:i(()=>[t(_,{cols:"12",md:"6"},{default:i(()=>[Oe,t(ee,{modelValue:n.value,"onUpdate:modelValue":l[1]||(l[1]=w=>n.value=w)},{default:i(()=>[H(t(te,{ref_key:"formElement",ref:u,autofocus:!0,disabled:r.value,modelValue:o.value,"onUpdate:modelValue":l[0]||(l[0]=w=>o.value=w),rules:[A(Y)],placeholder:"00/00/0000",number:""},null,8,["disabled","modelValue","rules"]),[[f,"##/##/####"]])]),_:1},8,["modelValue"]),t(L,{color:"primary",block:"",rounded:"",onClick:l[2]||(l[2]=w=>S()),loading:r.value,disabled:r.value},{default:i(()=>[P(" Continuar ")]),_:1},8,["loading","disabled"])]),_:1})]),_:1})]),_:1}),t(_,{cols:"12",class:"d-flex justify-center"},{default:i(()=>[t(Z,{"always-visible":""})]),_:1})]),_:1})]),_:1})]),_:1})}}}),at=Object.freeze(Object.defineProperty({__proto__:null,default:je},Symbol.toStringTag,{value:"Module"})),Pe=p("h1",null,"Digite seu CPF no campo abaixo",-1),Te=R({__name:"Identifier",props:{data:{}},emits:["alert","next","to","update:data"],setup(e,{emit:d}){const o=y(""),n=y(!1),u=y(),r=y(!1),c=d,D=e,g=k({get:()=>D.data,set:l=>c("update:data",l)});function S(){return o.value.replace(/\D/g,"")}async function x(){n.value&&(r.value=!0,Ve(S()).then(l=>{g.value.patient=l.data,g.value.internal.identifier=S(),c("next")}).catch(l=>{s(l)}).finally(()=>r.value=!1))}function s(l){c("alert",{title:`Ops, ${l}! :(`,text:"Não se preocupe! Vamos te encaminhar para a recepção",action:{type:"choise",rejectLabel:"Tentar novamente",acceptLabel:"Ok, entendi",callback(f){f?c("to","Queues"):(o.value="",setTimeout(()=>u.value.focus(),500))}}})}return(l,f)=>{const w=X("mask");return b(),j(V,{justify:"center","no-gutters":""},{default:i(()=>[t(_,{cols:"12",md:"11"},{default:i(()=>[t(V,null,{default:i(()=>[t(_,{cols:"12"},{default:i(()=>[t(V,{"no-gutters":"",justify:"center"},{default:i(()=>[t(_,{cols:"12",md:"6"},{default:i(()=>[Pe,t(ee,{modelValue:n.value,"onUpdate:modelValue":f[1]||(f[1]=O=>n.value=O)},{default:i(()=>[H(t(te,{ref_key:"formElement",ref:u,autofocus:!0,disabled:r.value,modelValue:o.value,"onUpdate:modelValue":f[0]||(f[0]=O=>o.value=O),rules:[A(Y),A(he)],placeholder:"000.000.000-00",number:""},null,8,["disabled","modelValue","rules"]),[[w,"###.###.###-##"]])]),_:1},8,["modelValue"]),t(L,{color:"primary",block:"",rounded:"",onClick:f[2]||(f[2]=O=>x()),loading:r.value,disabled:r.value},{default:i(()=>[P(" Continuar ")]),_:1},8,["loading","disabled"])]),_:1})]),_:1})]),_:1}),t(_,{cols:"12",class:"d-flex justify-center"},{default:i(()=>[t(Z,{"always-visible":""})]),_:1})]),_:1})]),_:1})]),_:1})}}}),ot=Object.freeze(Object.defineProperty({__proto__:null,default:Te},Symbol.toStringTag,{value:"Module"})),nt=Object.freeze(Object.defineProperty({__proto__:null,default:be},Symbol.toStringTag,{value:"Module"})),Ce={};function Ie(e,d){return" LOADING... "}const Le=ve(Ce,[["render",Ie]]),it=Object.freeze(Object.defineProperty({__proto__:null,default:Le},Symbol.toStringTag,{value:"Module"})),$e=["innerHTML"],Be={style:{"max-height":"38vh","overflow-y":"auto"}},Re={class:"d-flex flex-column ga-4"},Me={class:"mb-2 text-gray"},Ue=["innerHTML"],Ae={class:"text-center mt-8"},W=15,Ne=R({__name:"Schedule",props:{data:{}},emits:["alert","next","to","cancel"],setup(e,{emit:d}){const o=e,n=d,u=y(!1),r=k(()=>o.data.patient?o.data.patient.schedules.map(a=>{const v=new Date(`${a.date}`),m=v.toLocaleDateString("pt-BR"),h={...a,date:v,time:v.toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"}),formattedDateStr:m,isToday:m===D,isDelayed:!1};return h.isDelayed=oe(h),h}):[]),c=new Date;c.setHours(0,0,0,0);const D=c.toLocaleDateString("pt-BR"),g=new Date(c);g.setDate(c.getDate()+1);const S=g.toLocaleDateString("pt-BR"),x=y([{header:"Data",bold:!1,value:a=>{const v=`<b>${a.formattedDateStr}</b>`;switch(a.formattedDateStr){case D:return`Hoje - ${v}`;case S:return`Amanhã - ${v}`;default:return`${ne(a)} - ${v}`}}},{header:"Horário",value:a=>a.time},{header:"Médico(a)",value:a=>a.doctor.name},{header:"Especialidade",value:a=>a.specialty.name}]),s=k(()=>{let a="noSchedules";return f.value?a="delaySchedules":w.value?a="hasSchedules":O.value&&(a="otherSchedules"),l.find(v=>v.type===a)}),l=[{title:"Ops, você está atrasado(a)!",buttons:[{text:"Ok, entendi",loading:u,action:z}],type:"delaySchedules"},{title:k(()=>r.value.length===1?"Aqui está sua consulta agendada":"Suas consultas agendadas!"),buttons:[{text:"Ok, continuar",loading:u,action:z}],type:"hasSchedules"},{title:"Ops! Você não possui consulta agendada para hoje :( <br> Aqui estão os seus próximos agendamentos!",buttons:[{text:"Outros serviços",color:"primary",action:()=>n("to","Queues")}],type:"otherSchedules"},{title:"",buttons:[],type:"noSchedules"}],f=k(()=>r.value.some(a=>a.isDelayed)),w=k(()=>r.value.some(a=>a.isToday)),O=k(()=>!w.value&&r.value.length>0),ae=k(()=>{if(!o.data.internal.identifier)return"";const a=o.data.internal.identifier;return a.substring(0,4).padEnd(a.length,"X").replace(/(\w{3})(\w{3})(\w{3})(\w{2})/,"$1.$2.$3-$4")});function oe(a){if(a.isToday===!1)return!1;const v=new Date,m=a.date.getTime()+W*60*1e3;return v.getTime()>m}function ne(a){const v=a.date;return["Dom","Seg","Ter","Qua","Qui","Sex","Sáb"][v.getDay()]}function z(){if(u.value=!0,f.value)return n("to","Queues");ke().then(()=>{n("next")}).catch(a=>{n("alert",{title:"Ops, algo deu errado!",text:"Falha ao processar seus agendamentos, te encaminharemos para a recepção.",action:{type:"confirm",label:"Ok",callback(){n("to","Queues")}}})}).finally(()=>{u.value=!1})}return N(()=>{r.value.length===0&&n("alert",{title:"Ops, você não possui consulta agendada hoje :(",text:"Deseja realizar outro tipo de serviço?",action:{type:"choise",rejectLabel:"Finalizar",acceptLabel:"Ver outros serviços",callback(a){if(a)return n("to","Queues");n("cancel")}}})}),(a,v)=>(b(),C("div",null,[p("h1",{class:"text-center mb-4",innerHTML:s.value.title.value??s.value.title},null,8,$e),O.value?(b(),j(ye,{key:0,color:"#dfdfdf",rounded:""},{default:i(()=>[t(V,null,{default:i(()=>[t(_,{cols:"12",md:"6"},{default:i(()=>{var m;return[p("p",null,[P(" Paciente: "),p("b",null,T((m=a.data.patient)==null?void 0:m.first_name),1)])]}),_:1}),t(_,{cols:"12",md:"6"},{default:i(()=>[P(" CPF: "),p("b",null,T(ae.value),1)]),_:1})]),_:1})]),_:1})):pe("",!0),p("div",Be,[p("div",Re,[(b(!0),C($,null,U(r.value,m=>(b(),j(we,{class:"px-8 py-4",rounded:"lg",variant:"outlined",disabled:m.isDelayed},{default:i(()=>[t(V,{"no-gutters":""},{default:i(()=>[(b(!0),C($,null,U(x.value,h=>(b(),j(_,I({cols:"12",md:"3"},{...h.cols??{},...h.props??{}}),{default:i(()=>[p("p",Me,T(h.header),1),p("p",{innerHTML:h.value(m),class:ge({"font-weight-bold":h.bold??!0})},null,10,Ue)]),_:2},1040))),256))]),_:2},1024)]),_:2},1032,["disabled"]))),256))])]),H(p("h4",Ae," Nossa tolerância é de "+T(W)+" minutos, devido ao atraso vamos te encaminhar para a recepção. ",512),[[_e,f.value]]),t(V,{justify:"center",class:"mt-4"},{default:i(()=>[(b(!0),C($,null,U(s.value.buttons,m=>(b(),j(_,{cols:"auto"},{default:i(()=>{var h;return[t(L,{class:"px-8 py-2",loading:(h=m.loading)==null?void 0:h.value,rounded:"",color:m.color??"primary",onClick:m.action},{default:i(()=>[P(T(m.text),1)]),_:2},1032,["loading","color","onClick"])]}),_:2},1024))),256))]),_:1})]))}}),rt=Object.freeze(Object.defineProperty({__proto__:null,default:Ne},Symbol.toStringTag,{value:"Module"})),He="/qwert/assets/init-j6tv1-XG.svg",ze={class:"text-white fill-height d-flex align-center justify-center"},Ee=p("h1",{class:"text-center mb-4"},"Bem-vindo",-1),Fe={class:"mt-8"},Je=R({__name:"Welcome",props:{layoutRef:{}},emits:["next","to"],setup(e,{emit:d}){const o=d,n=e;return N(()=>{n.layoutRef.setStyles({backgroundImage:`url('${He}')`,backgroundSize:"100% 100%",color:"white"})}),(u,r)=>(b(),C("div",ze,[p("div",null,[Ee,p("div",Fe,[t(V,null,{default:i(()=>[t(_,{class:"d-flex",cols:"12"},{default:i(()=>[t(L,{class:"mx-auto",height:"120",width:"400",color:"primary",onClick:r[0]||(r[0]=c=>o("next"))},{default:i(()=>[P("Iniciar Atendimento")]),_:1})]),_:1})]),_:1})])])]))}}),lt=Object.freeze(Object.defineProperty({__proto__:null,default:Je},Symbol.toStringTag,{value:"Module"}));export{Ye as V,at as _,et as a,ot as b,nt as c,it as d,rt as e,lt as f,tt as r};
