import{_ as k}from"./LayoutView.vue_vue_type_script_setup_true_lang-CmZlgHcX.js";import{Y as C,r as i,aF as h,ad as B,o as D,a1 as d,a6 as p,h as n,a3 as t,a8 as f,ab as v,ag as _,i as L,F as g,a7 as N,a2 as S,ac as $}from"./index-qD7YzMI5.js";import{_ as w,g as E,d as F}from"./AttendanceTypeDialog.vue_vue_type_script_setup_true_lang-DFAYsaZa.js";import{d as I}from"./default-values-CbD4zaFl.js";import{r as j}from"./VDataTable-BWe7zoxT.js";import{V as M}from"./filter-CwHpNPHQ.js";import{b as U,V as z,c as P}from"./VList-DfE71V2C.js";import"./VRow-D8J0Kcti.js";import"./VSheet-BBLRjc8r.js";import"./Dialog.vue_vue_type_script_setup_true_lang-Dygu8__b.js";import"./Form.vue_vue_type_script_setup_true_lang-CbT_6LEC.js";import"./VTooltip-Bb_4RZzS.js";import"./VSlideGroup-BFjSOK57.js";import"./VTextField-Dhuq--7F.js";import"./validator-BWY9Mz8E.js";import"./VForm-Z8UNoJNM.js";import"./ssrBoot-CKTcMaVY.js";const R={class:"d-flex justify-start"},Y=["src"],me=C({__name:"AttendanceType",setup(q){const l=i(!1),{closeAlert:y,openConfirmAlert:V}=h(),{setBreadcrumbs:T}=B();function A(a,{item:e}){s.value=structuredClone({...e})}const m=i(!1),s=i(structuredClone(I.attendanceType)),x=i([{align:"start",title:"Nome",value:"name"},{align:"start",title:"Icone",value:"icon"},{align:"start",title:"Descrição",value:"description"},{align:"start",title:"",value:"actions"}]),b=i([{title:"Editar",action:a=>{s.value={...a},l.value=!0}},{title:"Excluir",action:a=>{V({title:"Remover Tipo de Atendimento",text:`Deseja realmente remover o item <span class="text-no-wrap bg-primary pa-1 rounded"> ${a.name}</span>?`},e=>{e.value=!0,F(a.id).finally(()=>{e.value=!1,y(),u(!1)})})}}]),c=i([]);function u(a=!1){a&&(m.value=!0),E().then(e=>{c.value=e.data}).finally(()=>{m.value=!1})}return D(()=>{u(!0),T([{title:"Tipo de Atendimento",to:{name:"attendance-type.view"}}])}),(a,e)=>(d(),p(g,null,[n(k,{title:"Tipo de Atendimento",icon:"mdi-sitemap"},{action:t(()=>[n(f,{color:"primary",flat:"",onClick:e[0]||(e[0]=o=>l.value=!0)},{default:t(()=>[v(" Novo ")]),_:1})]),content:t(()=>[n(j,{headers:x.value,items:c.value,loading:m.value,"items-per-page":-1,"onDblclick:row":A},{"item.icon":t(({item:o})=>[_("div",R,[_("img",{src:o.icon,height:"30"},null,8,Y)])]),bottom:t(()=>[]),"item.actions":t(({item:o})=>[n(M,null,{activator:t(({props:r})=>[n(f,L({icon:"mdi-dots-horizontal",variant:"text"},r),null,16)]),default:t(()=>[n(U,null,{default:t(()=>[(d(!0),p(g,null,N(b.value,r=>(d(),S(z,{link:"",onClick:G=>r.action(o)},{default:t(()=>[n(P,null,{default:t(()=>[v($(r.title),1)]),_:2},1024)]),_:2},1032,["onClick"]))),256))]),_:2},1024)]),_:2},1024)]),_:2},1032,["headers","items","loading"])]),_:1}),n(w,{modelValue:l.value,"onUpdate:modelValue":e[1]||(e[1]=o=>l.value=o),item:s.value,"onUpdate:item":e[2]||(e[2]=o=>s.value=o),onSubmit:u},null,8,["modelValue","item"])],64))}});export{me as default};
