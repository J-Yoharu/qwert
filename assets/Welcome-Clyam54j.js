import{m as ee,V as H,b as te,a as z}from"./VWindowItem-BrOdhiBS.js";import{p as W,I as ae,g as q,u as oe,aJ as ne,r as b,w as N,o as M,f as G,h as s,F as j,D as ie,a8 as L,i as C,as as re,E as se,br as le,a3 as F,Y as A,c as x,a0 as _,a6 as P,af as m,ac as O,ab as $,a2 as f,a7 as R,a1 as T,V as de,b6 as ce,aW as Y,a4 as J,ae as ue,a5 as fe,a$ as me,ak as pe,b0 as ve}from"./index-DXKN8KeX.js";import{V as I,a as k}from"./VRow-BZ9OHhEE.js";import{_ as ge,r as _e,c as he,a as we}from"./Init.vue_vue_type_script_setup_true_lang-UyzwJyda.js";import{V as be}from"./VForm-DQg37UES.js";import{V as ye}from"./VTextField-CMSARt75.js";import{V as De}from"./VSheet-Y-6zvpXj.js";const Se=W({color:String,cycle:Boolean,delimiterIcon:{type:ae,default:"$delimiter"},height:{type:[Number,String],default:500},hideDelimiters:Boolean,hideDelimiterBackground:Boolean,interval:{type:[Number,String],default:6e3,validator:e=>Number(e)>0},progress:[Boolean,String],verticalDelimiters:[Boolean,String],...ee({continuous:!0,mandatory:"force",showArrows:!0})},"VCarousel"),st=q()({name:"VCarousel",props:Se(),emits:{"update:modelValue":e=>!0},setup(e,i){let{slots:t}=i;const o=oe(e,"modelValue"),{t:l}=ne(),n=b();let r=-1;N(o,p),N(()=>e.interval,p),N(()=>e.cycle,y=>{y?p():window.clearTimeout(r)}),M(h);function h(){!e.cycle||!n.value||(r=window.setTimeout(n.value.group.next,+e.interval>0?+e.interval:6e3))}function p(){window.clearTimeout(r),window.requestAnimationFrame(h)}return G(()=>{const y=H.filterProps(e);return s(H,C({ref:n},y,{modelValue:o.value,"onUpdate:modelValue":D=>o.value=D,class:["v-carousel",{"v-carousel--hide-delimiter-background":e.hideDelimiterBackground,"v-carousel--vertical-delimiters":e.verticalDelimiters},e.class],style:[{height:se(e.height)},e.style]}),{default:t.default,additional:D=>{let{group:d}=D;return s(j,null,[!e.hideDelimiters&&s("div",{class:"v-carousel__controls",style:{left:e.verticalDelimiters==="left"&&e.verticalDelimiters?0:"auto",right:e.verticalDelimiters==="right"?0:"auto"}},[d.items.value.length>0&&s(ie,{defaults:{VBtn:{color:e.color,icon:e.delimiterIcon,size:"x-small",variant:"text"}},scoped:!0},{default:()=>[d.items.value.map((c,u)=>{const S={id:`carousel-item-${c.id}`,"aria-label":l("$vuetify.carousel.ariaLabel.delimiter",u+1,d.items.value.length),class:["v-carousel__controls__item",d.isSelected(c.id)&&"v-btn--active"],onClick:()=>d.select(c.id,!0)};return t.item?t.item({props:S,item:c}):s(L,C(c,S),null)})]})]),e.progress&&s(re,{class:"v-carousel__progress",color:typeof e.progress=="string"?e.progress:void 0,modelValue:(d.getItemIndex(o.value)+1)/d.items.value.length*100},null)])},prev:t.prev,next:t.next})}),{}}}),xe=W({...le(),...te()},"VCarouselItem"),lt=q()({name:"VCarouselItem",inheritAttrs:!1,props:xe(),setup(e,i){let{slots:t,attrs:o}=i;G(()=>{const l=F.filterProps(e),n=z.filterProps(e);return s(z,C({class:"v-carousel-item"},n),{default:()=>[s(F,C(o,l),t)]})})}}),Q=new Date;Q.setHours(Q.getHours()+1);const B={"00000000000":{id:"00000000000",first_name:"João",phone_hint:"0251",birth_date:"00/00/0000",has_face_recognition:!0,schedules:[{id:"id01",date:new Date().toLocaleDateString("pt-BR").split("/").reverse().join("-")+" "+new Date().getHours()+":"+new Date().getMinutes(),doctor:{id:"doctor-01",name:"Pablo Antonio"},specialty:{id:"fwefwefwefwef",name:"Ortopedia"},conventant:{id:"conv-01",name:"Unimed"}},{id:"id02",date:new Date().toLocaleDateString("pt-BR").split("/").reverse().join("-")+" "+(new Date().getHours()+1)+":"+new Date().getMinutes(),doctor:{id:"doctor-02",name:"David Jesus"},specialty:{id:"fwefwefwefwef2",name:"Cardiologia"},conventant:{id:"conv-02",name:"Amil"}},{id:"id03",date:new Date().toLocaleDateString("pt-BR").split("/").reverse().join("-")+" "+(new Date().getHours()+2)+":"+new Date().getMinutes(),doctor:{id:"doctor-03",name:"Igor Ribeiro"},specialty:{id:"fwefwefwefwef3",name:"Urologista"},conventant:{id:"conv-03",name:"Sulamerica"}}]},"11111111111":{id:"11111111111",first_name:"Jessica",phone_hint:"0251",has_face_recognition:!0,birth_date:"11/11/1111",schedules:[{id:"id01",date:new Date().toLocaleDateString("pt-BR").split("/").reverse().join("-")+" "+new Date().getHours()+":"+new Date().getMinutes(),doctor:{id:"doctor-01",name:"Pablo Antonio"},specialty:{id:"fwefwefwefwef",name:"Ortopedia"},conventant:{id:"conv-01",name:"Unimed"},guide:{url:"https://drive.google.com/file/d/1-K9QNOdOmcPNOSR1hfbxGCo04OkOERZ4/preview"}},{id:"id02",date:new Date().toLocaleDateString("pt-BR").split("/").reverse().join("-")+" "+(new Date().getHours()+1)+":"+new Date().getMinutes(),doctor:{id:"doctor-02",name:"David Jesus"},specialty:{id:"fwefwefwefwef2",name:"Cardiologia"},conventant:{id:"conv-02",name:"Amil"},guide:{url:"https://drive.google.com/file/d/1-K9QNOdOmcPNOSR1hfbxGCo04OkOERZ4/preview"}},{id:"id03",date:new Date().toLocaleDateString("pt-BR").split("/").reverse().join("-")+" "+(new Date().getHours()+2)+":"+new Date().getMinutes(),doctor:{id:"doctor-03",name:"João Silva"},specialty:{id:"fwefwefwefwef3",name:"Dermatologia"},conventant:{id:"conv-03",name:"Sulamerica"}},{id:"id03",date:new Date().toLocaleDateString("pt-BR").split("/").reverse().join("-")+" "+(new Date().getHours()+3)+":"+new Date().getMinutes(),doctor:{id:"doctor-03",name:"Igor Ribeiro"},specialty:{id:"fwefwefwefwef3",name:"Urologista"},conventant:{id:"conv-03",name:"Sulamerica"}}]},"22222222222":{id:"22222222222",first_name:"Jose",phone_hint:"0251",birth_date:"22/22/2222",has_face_recognition:!0,schedules:[{id:"id01",date:new Date().toLocaleDateString("pt-BR").split("/").reverse().join("-")+" 00:00:00",doctor:{id:"doctor-01",name:"Pablo Antonio"},specialty:{id:"fwefwefwefwef",name:"Ortopedia"},conventant:{id:"conv-01",name:"Unimed"}},{id:"id01",date:new Date().toLocaleDateString("pt-BR").split("/").reverse().join("-")+" 01:00:00",doctor:{id:"doctor-01",name:"Pablo Antonio"},specialty:{id:"fwefwefwefwef",name:"Ortopedia"},conventant:{id:"conv-01",name:"Unimed"}}]},"33333333333":{id:"33333333333",first_name:"Jessica",phone_hint:"0251",birth_date:"33/33/3333",has_face_recognition:!1,schedules:[{id:"id01",date:"2025-01-01 15:30:00",doctor:{id:"doctor-01",name:"Pablo Antonio"},specialty:{id:"fwefwefwefwef",name:"Ortopedia"},conventant:{id:"conv-01",name:"Unimed"}},{id:"id02",date:"2025-04-17 15:30:00",doctor:{id:"doctor-02",name:"David Jesus"},specialty:{id:"fwefwefwefwef2",name:"Cardiologia"},conventant:{id:"conv-02",name:"Amil"}},{id:"id03",date:"2025-05-12 15:30:00",doctor:{id:"doctor-03",name:"João Silva"},specialty:{id:"fwefwefwefwef3",name:"Dermatologia"},conventant:{id:"conv-03",name:"Sulamerica"}},{id:"id03",date:"2025-06-12 15:30:00",doctor:{id:"doctor-03",name:"Igor Ribeiro"},specialty:{id:"fwefwefwefwef3",name:"Urologista"},conventant:{id:"conv-03",name:"Sulamerica"}},{id:"id03",date:"2025-06-12 15:30:00",doctor:{id:"doctor-03",name:"Igor Ribeiro"},specialty:{id:"fwefwefwefwef3",name:"Urologista"},conventant:{id:"conv-03",name:"Sulamerica"}},{id:"id03",date:"2025-06-12 15:30:00",doctor:{id:"doctor-03",name:"Igor Ribeiro"},specialty:{id:"fwefwefwefwef3",name:"Urologista"},conventant:{id:"conv-03",name:"Sulamerica"}},{id:"id03",date:"2025-06-12 15:30:00",doctor:{id:"doctor-03",name:"Igor Ribeiro"},specialty:{id:"fwefwefwefwef3",name:"Urologista"},conventant:{id:"conv-03",name:"Sulamerica"}},{id:"id03",date:"2025-06-12 15:30:00",doctor:{id:"doctor-03",name:"Igor Ribeiro"},specialty:{id:"fwefwefwefwef3",name:"Urologista"},conventant:{id:"conv-03",name:"Sulamerica"}}]},"44444444444":{id:"44444444444",first_name:"Mariana",phone_hint:"0251",birth_date:"44/44/4444",has_face_recognition:!1,schedules:[]}};function Ve(e,i){return new Date(e.getTime()+Math.random()*(i.getTime()-e.getTime()))}function ke(e){const[i,t,o]=e.split("/"),l=new Date(parseInt(o),parseInt(t)-1,parseInt(i)),n=[];for(let r=0;r<2;r++){const h=new Date(l.getFullYear()-10,0,1),p=new Date(l.getFullYear()+10,11,31);n.push(Ve(h,p))}return n.push(l),n.map(r=>`${r.getDate().toString().padStart(2,"0")}/${(r.getMonth()+1).toString().padStart(2,"0")}/${r.getFullYear()}`)}function Oe(e){for(let i=e.length-1;i>0;i--){const t=Math.floor(Math.random()*(i+1));[e[i],e[t]]=[e[t],e[i]]}return e}function Pe(e){return new Promise((i,t)=>{if(!Object.keys(B).includes(e))return t("Não foi possível encontrar o seu cadastro");const l=B[e];return i({data:Oe([...ke(l.birth_date),l.birth_date])})})}function Te(e){return new Promise((i,t)=>{setTimeout(()=>{if(!Object.keys(B).includes(e))return t("Não foi possível encontrar o seu cadastro");const l=B[e];return i({data:l})},2e3)})}function je(e,i){return new Promise((t,o)=>{setTimeout(()=>{if(!Object.keys(B).includes(e))return o("Não foi possível encontrar o seu cadastro");const n=B[e];return n.birth_date!==i?o("Data de nascimento inválida"):t({data:n})},2e3)})}function $e(){return new Promise((e,i)=>{setTimeout(()=>e({data:{}}),2e3)})}function dt(e,i){return new Promise((t,o)=>{setTimeout(()=>i==="11111111111"?o({data:{}}):t({data:{}}),1e3)})}const Ie=m("h1",{class:"mb-4 text-center"},"Verificação de Identidade",-1),Be={class:"mb-4"},Ce={class:"font-weight-regular"},Le=A({__name:"BirthDate",props:{data:{}},emits:["alert","loading","next","to","update:data"],setup(e,{emit:i}){const t=b("");b(!1);const o=b(),l=b([]),n=b(!1),r=i,h=e,p=x({get:()=>h.data,set:d=>r("update:data",d)});async function y(d){n.value=!0,r("loading",{text:"Aguarde enquanto validamos a sua data de nascimento",callback(c){je(h.data.internal.identifier,d).then(u=>{p.value.patient=u.data,p.value.internal.birthDate=d,r("next")}).catch(u=>{D(u)}).finally(()=>{n.value=!1,c.value=!1})}})}function D(d){r("alert",{title:`Ops, ${d}! :(`,text:"Não se preocupe! Vamos te encaminhar para a recepção",action:{type:"choise",rejectLabel:"Tentar novamente",acceptLabel:"Ok, entendi",callback(c){c?r("to","Queues"):(t.value="",setTimeout(()=>o.value.focus(),500))}}})}return M(()=>{Pe(p.value.patient.id).then(d=>{l.value=d.data})}),(d,c)=>(_(),P(j,null,[Ie,m("p",Be,[m("b",null,O(p.value.patient.first_name),1),$(" Para a sua segurança, precisamos que você selecione a sua data de nascimento. ")]),m("div",null,[s(I,null,{default:f(()=>[(_(!0),P(j,null,R(l.value,(u,S)=>(_(),T(k,{key:S,cols:"12",md:"3"},{default:f(()=>[s(L,{onClick:V=>y(u),stacked:"",width:"100%",disabled:n.value},{default:f(()=>[s(de,{icon:"mdi-calendar",size:"35",color:"primary"}),m("span",Ce,O(u),1)]),_:2},1032,["onClick","disabled"])]),_:2},1024))),128))]),_:1})])],64))}}),ct=Object.freeze(Object.defineProperty({__proto__:null,default:Le},Symbol.toStringTag,{value:"Module"})),Re=m("h1",null,"Digite seu CPF no campo abaixo",-1),Me=A({__name:"Identifier",props:{data:{}},emits:["alert","next","to","update:data"],setup(e,{emit:i}){const t=b(""),o=b(!1),l=b(),n=b(!1),r=i,h=e,p=x({get:()=>h.data,set:c=>r("update:data",c)});function y(){return t.value.replace(/\D/g,"")}async function D(){o.value&&(n.value=!0,Te(y()).then(c=>{p.value.patient=c.data,p.value.internal.identifier=y(),r("next")}).catch(c=>{d(c)}).finally(()=>n.value=!1))}function d(c){r("alert",{title:`Ops, ${c}! :(`,text:"Não se preocupe! Vamos te encaminhar para a recepção",action:{type:"choise",rejectLabel:"Tentar novamente",acceptLabel:"Ok, entendi",callback(u){u?r("to","Queues"):(t.value="",setTimeout(()=>l.value.focus(),500))}}})}return(c,u)=>{const S=ce("mask");return _(),T(I,{"no-gutters":""},{default:f(()=>[s(k,{cols:"12",md:"6"},{default:f(()=>[Re,s(be,{modelValue:o.value,"onUpdate:modelValue":u[1]||(u[1]=V=>o.value=V)},{default:f(()=>[Y(s(ye,{ref_key:"formElement",ref:l,autofocus:!0,disabled:n.value,modelValue:t.value,"onUpdate:modelValue":u[0]||(u[0]=V=>t.value=V),rules:[J(_e),J(he)],placeholder:"000.000.000-00",number:""},null,8,["disabled","modelValue","rules"]),[[S,"###.###.###-##"]])]),_:1},8,["modelValue"]),s(L,{color:"primary",block:"",rounded:"",onClick:u[2]||(u[2]=V=>D()),loading:n.value,disabled:n.value},{default:f(()=>[$(" Continuar ")]),_:1},8,["loading","disabled"])]),_:1}),s(k,{cols:"12",md:"6",justify:"center",class:"d-flex justify-center"},{default:f(()=>[m("div",null,[s(ge,{"always-visible":""})])]),_:1})]),_:1})}}}),ut=Object.freeze(Object.defineProperty({__proto__:null,default:Me},Symbol.toStringTag,{value:"Module"})),ft=Object.freeze(Object.defineProperty({__proto__:null,default:we},Symbol.toStringTag,{value:"Module"})),Ae={};function Ne(e,i){return" LOADING... "}const Ue=ue(Ae,[["render",Ne]]),mt=Object.freeze(Object.defineProperty({__proto__:null,default:Ue},Symbol.toStringTag,{value:"Module"})),He=["innerHTML"],ze={style:{"max-height":"38vh","overflow-y":"auto"}},Fe={class:"d-flex flex-column ga-4"},Je={class:"mb-2 text-gray"},Qe=["innerHTML"],Ee={class:"text-center mt-8"},E=15,We=A({__name:"Schedule",props:{data:{}},emits:["alert","next","to","cancel"],setup(e,{emit:i}){const t=e,o=i,l=b(!1),n=x(()=>t.data.patient?t.data.patient.schedules.map(a=>{const g=new Date(`${a.date}`),v=g.toLocaleDateString("pt-BR"),w={...a,date:g,time:g.toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"}),formattedDateStr:v,isToday:v===h,isDelayed:!1};return w.isDelayed=X(w),w}):[]),r=new Date;r.setHours(0,0,0,0);const h=r.toLocaleDateString("pt-BR"),p=new Date(r);p.setDate(r.getDate()+1);const y=p.toLocaleDateString("pt-BR"),D=b([{header:"Data",bold:!1,value:a=>{const g=`<b>${a.formattedDateStr}</b>`;switch(a.formattedDateStr){case h:return`Hoje - ${g}`;case y:return`Amanhã - ${g}`;default:return`${Z(a)} - ${g}`}}},{header:"Horário",value:a=>a.time},{header:"Médico(a)",value:a=>a.doctor.name},{header:"Especialidade",value:a=>a.specialty.name}]),d=x(()=>{let a="noSchedules";return u.value?a="delaySchedules":S.value?a="hasSchedules":V.value&&(a="otherSchedules"),c.find(g=>g.type===a)}),c=[{title:"Ops, você está atrasado(a)!",buttons:[{text:"Ok, entendi",loading:l,action:U}],type:"delaySchedules"},{title:x(()=>n.value.length===1?"Aqui está sua consulta agendada":"Suas consultas agendadas!"),buttons:[{text:"Ok, continuar",loading:l,action:U}],type:"hasSchedules"},{title:"Ops! Você não possui consulta agendada para hoje :( <br> Aqui estão os seus próximos agendamentos!",buttons:[{text:"Outros serviços",color:"primary",action:()=>o("to","Queues")}],type:"otherSchedules"},{title:"",buttons:[],type:"noSchedules"}],u=x(()=>n.value.some(a=>a.isDelayed)),S=x(()=>n.value.some(a=>a.isToday)),V=x(()=>!S.value&&n.value.length>0),K=x(()=>{if(!t.data.internal.identifier)return"";const a=t.data.internal.identifier;return a.substring(0,4).padEnd(a.length,"X").replace(/(\w{3})(\w{3})(\w{3})(\w{2})/,"$1.$2.$3-$4")});function X(a){if(a.isToday===!1)return!1;const g=new Date,v=a.date.getTime()+E*60*1e3;return g.getTime()>v}function Z(a){const g=a.date;return["Dom","Seg","Ter","Qua","Qui","Sex","Sáb"][g.getDay()]}function U(){if(l.value=!0,u.value)return o("to","Queues");$e().then(()=>{o("next")}).catch(a=>{o("alert",{title:"Ops, algo deu errado!",text:"Falha ao processar seus agendamentos, te encaminharemos para a recepção.",action:{type:"confirm",label:"Ok",callback(){o("to","Queues")}}})}).finally(()=>{l.value=!1})}return M(()=>{n.value.length===0&&o("alert",{title:"Ops, você não possui consulta agendada hoje :(",text:"Deseja realizar outro tipo de serviço?",action:{type:"choise",rejectLabel:"Finalizar",acceptLabel:"Ver outros serviços",callback(a){if(a)return o("to","Queues");o("cancel")}}})}),(a,g)=>(_(),P("div",null,[m("h1",{class:"text-center mb-4",innerHTML:d.value.title.value??d.value.title},null,8,He),V.value?(_(),T(De,{key:0,color:"#dfdfdf",rounded:""},{default:f(()=>[s(I,null,{default:f(()=>[s(k,{cols:"12",md:"6"},{default:f(()=>{var v;return[m("p",null,[$(" Paciente: "),m("b",null,O((v=a.data.patient)==null?void 0:v.first_name),1)])]}),_:1}),s(k,{cols:"12",md:"6"},{default:f(()=>[$(" CPF: "),m("b",null,O(K.value),1)]),_:1})]),_:1})]),_:1})):fe("",!0),m("div",ze,[m("div",Fe,[(_(!0),P(j,null,R(n.value,v=>(_(),T(ve,{class:"px-8 py-4",rounded:"lg",variant:"outlined",disabled:v.isDelayed},{default:f(()=>[s(I,{"no-gutters":""},{default:f(()=>[(_(!0),P(j,null,R(D.value,w=>(_(),T(k,C({cols:"12",md:"3"},{...w.cols??{},...w.props??{}}),{default:f(()=>[m("p",Je,O(w.header),1),m("p",{innerHTML:w.value(v),class:pe({"font-weight-bold":w.bold??!0})},null,10,Qe)]),_:2},1040))),256))]),_:2},1024)]),_:2},1032,["disabled"]))),256))])]),Y(m("h4",Ee," Nossa tolerância é de "+O(E)+" minutos, devido ao atraso vamos te encaminhar para a recepção. ",512),[[me,u.value]]),s(I,{justify:"center",class:"mt-4"},{default:f(()=>[(_(!0),P(j,null,R(d.value.buttons,v=>(_(),T(k,{cols:"auto"},{default:f(()=>{var w;return[s(L,{class:"px-8 py-2",loading:(w=v.loading)==null?void 0:w.value,rounded:"",color:v.color??"primary",onClick:v.action},{default:f(()=>[$(O(v.text),1)]),_:2},1032,["loading","color","onClick"])]}),_:2},1024))),256))]),_:1})]))}}),pt=Object.freeze(Object.defineProperty({__proto__:null,default:We},Symbol.toStringTag,{value:"Module"})),qe="/qwert/assets/init-j6tv1-XG.svg",Ge={class:"text-white fill-height d-flex align-center justify-center"},Ye={class:"w-100"},Ke=m("h1",{class:"text-center mb-4"},"Bem-vindo",-1),Xe={class:"mt-8"},Ze=A({__name:"Welcome",props:{layoutRef:{}},emits:["next","to"],setup(e,{emit:i}){const t=i,o=e;return M(()=>{o.layoutRef.setStyles({backgroundImage:`url('${qe}')`,backgroundSize:"100% 100%",color:"white"})}),(l,n)=>(_(),P("div",Ge,[m("div",Ye,[Ke,m("div",Xe,[s(I,{justify:"center"},{default:f(()=>[s(k,{cols:"12",md:"5"},{default:f(()=>[s(L,{class:"mx-auto",height:"120",block:"",color:"primary",onClick:n[0]||(n[0]=r=>t("next"))},{default:f(()=>[$("Iniciar Atendimento")]),_:1})]),_:1})]),_:1})])])]))}}),vt=Object.freeze(Object.defineProperty({__proto__:null,default:Ze},Symbol.toStringTag,{value:"Module"}));export{st as V,ct as _,lt as a,ut as b,ft as c,mt as d,pt as e,vt as f,dt as r};
