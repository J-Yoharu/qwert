import{Y as A,r as y,c as D,a1 as n,a2 as u,a3 as o,h as l,b1 as N,b3 as L,b2 as r,an as M,b4 as P,a5 as f,b5 as U,ao as z,i as H,b6 as E,ag as C,ac as $,aw as h,a8 as v,a6 as F,bA as Y,a7 as j,bl as q,bm as G,ab as k}from"./index-BKCAMHtB.js";import{_ as J}from"./Form.vue_vue_type_script_setup_true_lang-B9xE6XiO.js";import{V as K,a as O}from"./VRow-CFpyredg.js";import{V as Q}from"./VForm-B8sy0Rqc.js";const W={class:"d-flex align-center"},X=["innerHTML"],oe=A({__name:"Dialog",props:{modelValue:{type:Boolean},title:{},form:{},loading:{type:Boolean},cancelReset:{type:Boolean,default:!1},hideActions:{type:Boolean,default:!1}},emits:["update:modelValue","update:form","close","submit","invalid"],setup(B,{expose:S,emit:w}){const t=B,d=w,p=y(),c=y(!0),V=D({get:()=>t.modelValue,set:e=>d("update:modelValue",e)}),b=()=>{var e;(e=t.form)!=null&&e.cancel&&t.form.cancel(),t.cancelReset||p.value.reset(),V.value=!1,d("close")},R=()=>{var e;if(!c.value){d("invalid");return}if((e=t.form)!=null&&e.submit)return t.form.submit(t.form);d("submit")};return S({reset:()=>{p.value.reset()}}),(e,s)=>(n(),u(E,H({width:e.$attrs.fullscreen!==void 0?void 0:400},e.$attrs,{modelValue:V.value,"onUpdate:modelValue":s[2]||(s[2]=a=>V.value=a)}),{default:o(()=>[l(Q,{ref_key:"formRef",ref:p,onSubmit:z(R,["prevent"]),modelValue:c.value,"onUpdate:modelValue":s[1]||(s[1]=a=>c.value=a),"lazy-validation":"",class:"fill-height"},{default:o(()=>[l(N,{loading:e.loading,height:"100%"},{default:o(()=>[l(L,{class:"pa-4 pb-0"},{default:o(()=>[r(e.$slots,"title",{},()=>{var a;return[C("div",W,[C("span",null,$(((a=e.form)==null?void 0:a.title)||e.title),1),l(h),l(v,{variant:"plain",icon:"mdi-close",onClick:b})])]})]),_:3}),l(M),l(P,{class:"px-4"},{default:o(()=>{var a;return[e.$slots.description||(a=e.form)!=null&&a.description?(n(),u(K,{key:0,class:"text-subtitle-1"},{default:o(()=>[l(O,null,{default:o(()=>[r(e.$slots,"description",{},()=>{var i;return[(i=e.form)!=null&&i.description?(n(),F("p",{key:0,innerHTML:e.form.description},null,8,X)):f("",!0)]})]),_:3})]),_:3})):f("",!0),r(e.$slots,"default"),r(e.$slots,"content",{},()=>{var i,g;return[(i=e.form)!=null&&i.form?(n(),u(J,{key:0,modelValue:e.form.form.value,"onUpdate:modelValue":s[0]||(s[0]=m=>e.form.form.value=m),form:((g=e.form)==null?void 0:g.form.inputs)??[]},Y({_:2},[j(e.form.form.inputs,(m,I)=>({name:`item:${m.value}`,fn:o(T=>[r(e.$slots,`item:${m.value}`,q(G(T)))])}))]),1032,["modelValue","form"])):f("",!0)]})]}),_:3}),e.hideActions?f("",!0):(n(),u(U,{key:0,class:"px-4 pb-4"},{default:o(()=>[r(e.$slots,"actions",{},()=>[l(h),l(v,{variant:"text",onClick:b},{default:o(()=>[k("Cancelar")]),_:1}),l(v,{color:"primary",type:"submit"},{default:o(()=>{var a;return[k($(((a=e.form)==null?void 0:a.submitText)??"Salvar"),1)]}),_:1})])]),_:3}))]),_:3},8,["loading"])]),_:3},8,["modelValue"])]),_:3},16,["width","modelValue"]))}});export{oe as _};
