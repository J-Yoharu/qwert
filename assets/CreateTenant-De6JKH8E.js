import{p as L,g as D,aK as ge,f as O,h as a,D as Q,a8 as C,bb as xe,bc as Ve,aY as be,bd as we,c as V,aX as A,b7 as _e,ah as ye,V as le,ax as Se,be as ke,u as Ce,i as G,bf as Fe,bg as Ie,bh as Pe,bi as Te,bj as ee,C as Ee,F as E,an as oe,Y as J,r as _,a1 as b,a6 as F,a3 as s,a4 as ne,ae as H,a9 as We,ag as W,ac as N,bk as Be,ao as M,al as re,b2 as $e,ab as $,a7 as q,a5 as K,a2 as T,a0 as se,s as v,b1 as k,o as ie,b0 as z,aG as ue,bl as Ae,bm as He,aZ as je,a_ as Le,af as ce,bn as De}from"./index-qD7YzMI5.js";import{_ as Oe,V as Re,a as Ue}from"./Form.vue_vue_type_script_setup_true_lang-CbT_6LEC.js";import{a as S,V as j}from"./VRow-D8J0Kcti.js";import{V as ze}from"./VTextField-Dhuq--7F.js";import{r as Ne,a as U,_ as qe}from"./Init.vue_vue_type_script_setup_true_lang-PSd2mehW.js";import{m as Ge,V as I}from"./VSheet-BBLRjc8r.js";import{b as Je,V as Y}from"./VList-DfE71V2C.js";import{a as Me,V as Ye}from"./filter-CwHpNPHQ.js";import{m as Ke,V as te,b as Xe,a as ae}from"./VWindowItem-xcBKYlQf.js";import{V as Ze}from"./VForm-Z8UNoJNM.js";import"./VTooltip-Bb_4RZzS.js";import"./VSlideGroup-BFjSOK57.js";import"./validator-BWY9Mz8E.js";import"./ssrBoot-CKTcMaVY.js";const de=L({color:String,disabled:{type:[Boolean,String],default:!1},prevText:{type:String,default:"$vuetify.stepper.prev"},nextText:{type:String,default:"$vuetify.stepper.next"}},"VStepperActions"),Qe=D()({name:"VStepperActions",props:de(),emits:{"click:prev":()=>!0,"click:next":()=>!0},setup(e,x){let{emit:t,slots:r}=x;const{t:c}=ge();function l(){t("click:prev")}function n(){t("click:next")}return O(()=>{const d={onClick:l},f={onClick:n};return a("div",{class:"v-stepper-actions"},[a(Q,{defaults:{VBtn:{disabled:["prev",!0].includes(e.disabled),text:c(e.prevText),variant:"text"}}},{default:()=>{var u;return[((u=r.prev)==null?void 0:u.call(r,{props:d}))??a(C,d,null)]}}),a(Q,{defaults:{VBtn:{color:e.color,disabled:["next",!0].includes(e.disabled),text:c(e.nextText),variant:"tonal"}}},{default:()=>{var u;return[((u=r.next)==null?void 0:u.call(r,{props:f}))??a(C,f,null)]}})])}),{}}}),pe=xe("v-stepper-header"),et=L({color:String,title:String,subtitle:String,complete:Boolean,completeIcon:{type:String,default:"$complete"},editable:Boolean,editIcon:{type:String,default:"$edit"},error:Boolean,errorIcon:{type:String,default:"$error"},icon:String,ripple:{type:[Boolean,Object],default:!0},rules:{type:Array,default:()=>[]},...Ve()},"VStepperItem"),me=D()({name:"VStepperItem",directives:{Ripple:be},props:et(),emits:{"group:selected":e=>!0},setup(e,x){let{slots:t}=x;const r=we(e,he,!0),c=V(()=>(r==null?void 0:r.value.value)??e.value),l=V(()=>e.rules.every(p=>p()===!0)),n=V(()=>!e.disabled&&e.editable),d=V(()=>e.error||!l.value),f=V(()=>e.complete||e.rules.length>0&&l.value),u=V(()=>d.value?e.errorIcon:f.value?e.completeIcon:e.editable?e.editIcon:e.icon),m=V(()=>({canEdit:n.value,hasError:d.value,hasCompleted:f.value,title:e.title,subtitle:e.subtitle,step:c.value,value:e.value}));return O(()=>{var g,w,y;const p=(!r||r.isSelected.value||f.value||n.value)&&!d.value&&!e.disabled,i=!!(e.title!=null||t.title),h=!!(e.subtitle!=null||t.subtitle);function o(){r==null||r.toggle()}return A(a("button",{class:["v-stepper-item",{"v-stepper-item--complete":f.value,"v-stepper-item--disabled":e.disabled,"v-stepper-item--error":d.value},r==null?void 0:r.selectedClass.value],disabled:!e.editable,onClick:o},[a(ye,{key:"stepper-avatar",class:"v-stepper-item__avatar",color:p?e.color:void 0,size:24},{default:()=>{var B;return[((B=t.icon)==null?void 0:B.call(t,m.value))??(u.value?a(le,{icon:u.value},null):c.value)]}}),a("div",{class:"v-stepper-item__content"},[i&&a("div",{key:"title",class:"v-stepper-item__title"},[((g=t.title)==null?void 0:g.call(t,m.value))??e.title]),h&&a("div",{key:"subtitle",class:"v-stepper-item__subtitle"},[((w=t.subtitle)==null?void 0:w.call(t,m.value))??e.subtitle]),(y=t.default)==null?void 0:y.call(t,m.value)])]),[[_e("ripple"),e.ripple&&e.editable,null]])}),{}}}),tt=Symbol.for("vuetify:v-stepper"),at=L({...Se(Ke(),["continuous","nextIcon","prevIcon","showArrows","touch","mandatory"])},"VStepperWindow"),ve=D()({name:"VStepperWindow",props:at(),emits:{"update:modelValue":e=>!0},setup(e,x){let{slots:t}=x;const r=ke(tt,null),c=Ce(e,"modelValue"),l=V({get(){var n;return c.value!=null||!r?c.value:(n=r.items.value.find(d=>r.selected.value.includes(d.id)))==null?void 0:n.value},set(n){c.value=n}});return O(()=>{const n=te.filterProps(e);return a(te,G({_as:"VStepperWindow"},n,{modelValue:l.value,"onUpdate:modelValue":d=>l.value=d,class:"v-stepper-window",mandatory:!1,touch:!1}),t)}),{}}}),lt=L({...Xe()},"VStepperWindowItem"),fe=D()({name:"VStepperWindowItem",props:lt(),setup(e,x){let{slots:t}=x;return O(()=>{const r=ae.filterProps(e);return a(ae,G({_as:"VStepperWindowItem"},r,{class:"v-stepper-window-item"}),t)}),{}}}),he=Symbol.for("vuetify:v-stepper"),ot=L({altLabels:Boolean,bgColor:String,editable:Boolean,hideActions:Boolean,items:{type:Array,default:()=>[]},itemTitle:{type:String,default:"title"},itemValue:{type:String,default:"value"},mobile:Boolean,nonLinear:Boolean,flat:Boolean,...Fe({mandatory:"force",selectedClass:"v-stepper-item--selected"}),...Ge(),...Ie(de(),["prevText","nextText"])},"VStepper"),nt=D()({name:"VStepper",props:ot(),emits:{"update:modelValue":e=>!0},setup(e,x){let{slots:t}=x;const{items:r,next:c,prev:l,selected:n}=Pe(e,he),{color:d,editable:f,prevText:u,nextText:m}=Te(e),p=V(()=>e.items.map((o,g)=>{const w=ee(o,e.itemTitle,o),y=ee(o,e.itemValue,g+1);return{title:w,value:y,raw:o}})),i=V(()=>r.value.findIndex(o=>n.value.includes(o.id))),h=V(()=>e.disabled?e.disabled:i.value===0?"prev":i.value===r.value.length-1?"next":!1);return Ee({VStepperItem:{editable:f,prevText:u,nextText:m},VStepperActions:{color:d,disabled:h,prevText:u,nextText:m}}),O(()=>{const o=I.filterProps(e),g=!!(t.header||e.items.length),w=e.items.length>0,y=!e.hideActions&&!!(w||t.actions);return a(I,G(o,{color:e.bgColor,class:["v-stepper",{"v-stepper--alt-labels":e.altLabels,"v-stepper--flat":e.flat,"v-stepper--non-linear":e.nonLinear,"v-stepper--mobile":e.mobile},e.class],style:e.style}),{default:()=>{var B,X;return[g&&a(pe,{key:"stepper-header"},{default:()=>[p.value.map((P,R)=>a(E,null,[!!R&&a(oe,null,null),a(me,P,{default:t[`header-item.${P.value}`]??t.header,icon:t.icon,title:t.title,subtitle:t.subtitle})]))]}),w&&a(ve,{key:"stepper-window"},{default:()=>[p.value.map(P=>a(fe,{value:P.value},{default:()=>{var R,Z;return((R=t[`item.${P.value}`])==null?void 0:R.call(t,P))??((Z=t.item)==null?void 0:Z.call(t,P))}}))]}),(B=t.default)==null?void 0:B.call(t,{prev:l,next:c}),y&&(((X=t.actions)==null?void 0:X.call(t,{next:c,prev:l}))??a(Qe,{key:"stepper-actions","onClick:prev":l,"onClick:next":c},t))]}})}),{prev:l,next:c}}}),rt=W("p",null,"Vamos configurar seu ambiente",-1),st={class:"text-caption font-italic"},it=J({__name:"TenantInfo",props:{modelValue:{}},emits:["update:modelValue"],setup(e,{emit:x}){const t=window.location.hostname,r=e,c=x,l=V({get(){return r.modelValue},set(f){c("update:modelValue",f)}});async function n(){return(await Be(l.value.domain)).data?"Subdomínio já existe":!0}const d=_([{component:"VTextField",value:"name",label:"Nome",required:!0,cols:{cols:6,md:12}},{component:"VTextField",value:"domain",label:"Sub-domínio",required:!0,cols:{cols:6,md:12}},{component:"VTextField",value:"provider_uri",label:"Url da API ERP do parceiro",props:{rules:["url"]},required:!0,cols:{cols:6,md:12}}]);return(f,u)=>(b(),F("div",null,[a(j,{class:"d-flex flex-md-column align-md-center"},{default:s(()=>[a(S,{cols:"12"},{default:s(()=>[a(ne,{src:H(We),width:"100",height:"100",class:"mx-auto"},null,8,["src"])]),_:1}),a(S,{col:"12",md:"4",class:"text-center"},{default:s(()=>[rt]),_:1}),a(S,{cols:"12",md:"4"},{default:s(()=>[a(Oe,{modelValue:l.value,"onUpdate:modelValue":u[1]||(u[1]=m=>l.value=m),form:d.value},{"item:domain":s(({props:m})=>[a(ze,G({modelValue:l.value.domain,"onUpdate:modelValue":u[0]||(u[0]=p=>l.value.domain=p)},m,{rules:[...m.rules,n]}),{"append-inner":s(()=>[W("span",st,"."+N(H(t)),1)]),_:2},1040,["modelValue","rules"])]),_:1},8,["modelValue","form"])]),_:1})]),_:1})]))}}),ut=W("p",null,"Vamos definir seu Logo",-1),ct={class:"d-flex justify-center align-center"},dt={class:"ml-2"},pt=J({__name:"TenantLogo",props:{modelValue:{},title:{default:"Arraste ou selecione um arquivo"},color:{default:"surface"},border:{type:[Boolean,String],default:!0},rounded:{type:[Boolean,String],default:!0},minHeight:{default:"120px"},height:{default:void 0},width:{default:void 0},class:{default:""},max_files:{},max_size:{}},emits:["update:modelValue"],setup(e,{emit:x}){const t=e,r=x,c=_(null),l=_(),n=_([]),d=V({get(){return t.modelValue},set(o){r("update:modelValue",o)}}),f=V(()=>l.value?l.value.errorMessages:[]);function u(o){d.value.logo=o,c.value=URL.createObjectURL(o)}function m(){l.value.click()}function p(o){n.value=[];const{items:g}=o.dataTransfer,w=Object.values(g).map(y=>y.getAsFile());if(w.length>1){n.value.push("Selecione apenas um arquivo");return}u(w[0])}function i(o){n.value=[];const{files:g}=o.clipboardData;if(g.length>1){n.value.push("Selecione apenas um arquivo");return}u(g[0])}function h(o){n.value=[];const{files:g}=o.target;u(g[0])}return(o,g)=>(b(),F("div",null,[a(j,null,{default:s(()=>[a(S,{col:"12",class:"text-center"},{default:s(()=>[ut]),_:1}),a(S,{cols:"12"},{default:s(()=>[a(I,{height:o.height,"min-height":o.minHeight,width:o.width,color:o.color,onClick:m,border:o.border,rounded:o.rounded,onDrop:M(p,["stop","prevent"]),onPaste:M(i,["stop","prevent"]),onDragover:g[0]||(g[0]=M(()=>{},["stop","prevent"])),class:re([o.class,"d-flex align-center justify-center pointer"])},{default:s(()=>[$e(o.$slots,"title",{},()=>[W("div",ct,[a(le,null,{default:s(()=>[$("mdi-cloud-upload-outline")]),_:1}),W("span",dt,N(o.title),1)])]),a(Re,{modelValue:d.value.logo,style:{display:"none"},rules:[H(Ne)],"hide-details":"auto",ref_key:"fileInput",ref:l,onChange:h,accept:"image/*"},null,8,["modelValue","rules"])]),_:3},8,["height","min-height","width","color","border","rounded","class"]),n.value.length||f.value.length?(b(!0),F(E,{key:0},q([...n.value,...f.value],(w,y)=>(b(),F("p",{class:"text-caption text-error text-center",key:y},N(w),1))),128)):K("",!0)]),_:3}),c.value?(b(),T(S,{key:0,cols:"12"},{default:s(()=>[a(ne,{src:c.value,height:"200"},null,8,["src"])]),_:1})):K("",!0)]),_:3})]))}}),mt=e=>(je("data-v-71c033cb"),e=e(),Le(),e),vt=mt(()=>W("p",null,"Aqui é possivel personalizar o seu tema",-1)),ft=J({__name:"TenantTheme",props:{modelValue:{}},emits:["update:modelValue"],setup(e,{emit:x}){const t=e,r=x;let c=[];const l=_(!1),n=se(),d=_({name:"Primária",value:"primary",show:!0,component:v(U),props:{}}),f=V(()=>[{name:"Primária",value:"primary",show:!0,component:v(U),props:{}},{name:"Secundária",value:"secondary",show:!0,component:v(U),props:{}},{name:"Cor da navegação lateral",value:"nav-color",show:!0,component:v(U),props:{}},{name:"Teclado",value:"keyboard",show:!0,component:v(qe),props:{alwaysVisible:!0}},{name:"Erro",value:"error",show:l.value,component:v(C),props:{color:"#B00020",text:"Hello World",size:"x-large"}},{name:"Info",value:"info",show:l.value,component:v(C),props:{color:"#2196F3",text:"Hello World",size:"x-large"}},{name:"Sucesso",value:"success",show:l.value,component:v(C),props:{color:"#4CAF50",text:"Hello World",size:"x-large"}},{name:"Alerta",value:"warning",show:l.value,component:v(C),props:{color:"#FB8C00",text:"Hello World",size:"x-large"}},{name:"Plano de fundo",value:"background",show:l.value,component:v(I),props:{color:"#FFFFFF",width:"400px",height:"400px"}},{name:"Superfície",value:"surface",show:l.value,component:v(I),props:{color:"#FFFFFF",width:"400px",height:"400px"}},{name:"Variante da Superfície",value:"surface-variant",show:l.value,component:v(I),props:{color:"#424242",width:"400px",height:"400px"}},{name:"Cor do texto no plano de fundo",value:"on-background",show:l.value,component:v(k),props:{color:"background",title:"Hello World",width:"200px",height:"200px"}},{name:"Cor do texto na superfície",value:"on-surface",show:l.value,component:v(k),props:{color:"surface",title:"Hello World",width:"200px",height:"200px"}},{name:"Cor do texto na variação da superfície",value:"on-surface-variant",show:l.value,component:v(k),props:{color:"#EEEEEE",title:"Hello World",width:"200px",height:"200px"}},{name:"Cor do texto na primária",value:"on-primary",show:l.value,component:v(k),props:{color:"primary",title:"Hello World",width:"200px",height:"200px"}},{name:"Cor do texto na secundária",value:"on-secondary",show:l.value,component:v(k),props:{color:"secondary",title:"Hello World",width:"200px",height:"200px"}},{name:"Cor do texto no sucesso",value:"on-success",show:l.value,component:v(k),props:{color:"success",title:"Hello World",width:"200px",height:"200px"}},{name:"Cor do texto no alerta",value:"on-warning",show:l.value,component:v(k),props:{color:"warning",title:"Hello World",width:"200px",height:"200px"}},{name:"Cor do texto no erro",value:"on-error",show:l.value,component:v(k),props:{color:"error",title:"Hello World",width:"200px",height:"200px"}},{name:"Cor do texto na informação",value:"on-info",show:l.value,component:v(k),props:{color:"info",title:"Hello World",width:"200px",height:"200px"}}]),u=V({get(){return t.modelValue},set(i){r("update:modelValue",i)}});function m(){const i=Object.assign({},n.themes.value.light,u.value.theme);Object.assign(n.themes.value,{light:i})}function p(){const i=Object.assign({},n.themes.value.light,c);Object.assign(n.themes.value,{light:i}),u.value.theme.colors=JSON.parse(JSON.stringify(n.current.value.colors))}return ie(()=>{c=Object.freeze(JSON.parse(JSON.stringify(n.computedThemes.value.light)))}),(i,h)=>(b(),F(E,null,[a(j,{class:"d-flex justify-center"},{default:s(()=>[a(S,{col:"12",md:"4",class:"text-center"},{default:s(()=>[vt]),_:1})]),_:1}),a(j,{class:"fill-height"},{default:s(()=>[a(S,{cols:"12",md:"4",class:"position-relative"},{default:s(()=>[a(Je,{density:"compact","min-height":"100%","max-height":"80%",class:"flex-grow-1 remove-scroll-context"},{default:s(()=>[a(Y,{link:"",title:"Exibir avançados",active:l.value,onClick:h[0]||(h[0]=o=>l.value=!l.value)},{append:s(({isActive:o})=>[a(Me,{"model-value":o},null,8,["model-value"])]),_:1},8,["active"]),(b(!0),F(E,null,q(f.value,o=>A((b(),T(Y,{link:"",title:o.name,subtitle:u.value.theme.colors[o.value],onClick:g=>d.value={...o}},{append:s(()=>[a(H(I),{width:"30px",height:"30px",color:u.value.theme.colors[o.value],rounded:"lg",border:""},null,8,["color"])]),default:s(()=>[a(Ye,{activator:"parent","close-on-content-click":!1},{default:s(()=>[a(Ue,{modelValue:u.value.theme.colors[o.value],"onUpdate:modelValue":[g=>u.value.theme.colors[o.value]=g,m],mode:"hex",modes:["hex"]},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024)]),_:2},1032,["title","subtitle","onClick"])),[[z,o.show]])),256)),a(Y,{link:"",title:"Resetar",onClick:p,"append-icon":"mdi-backup-restore"})]),_:1})]),_:1}),a(S,{cols:"12",md:"8",class:"h-100"},{default:s(()=>[a(H(I),{width:"100%",height:"100%",border:"",class:"d-flex justify-center align-center"},{default:s(()=>[(b(),T(ue(d.value.component),Ae(He(d.value.props)),null,16))]),_:1})]),_:1})]),_:1})],64))}}),ht=ce(ft,[["__scopeId","data-v-71c033cb"]]),gt={class:"d-flex align-center justify-center my-3"},xt=J({__name:"CreateTenant",setup(e){const x=se(),t=_({id:0,name:"",provider_uri:"",logo:"",theme:{colors:{background:"#FFFFFF",surface:"#FFFFFF","surface-bright":"#FFFFFF","surface-light":"#EEEEEE","surface-variant":"#424242","on-surface-variant":"#EEEEEE",primary:"#1867C0","primary-darken-1":"#1F5592",secondary:"#48A9A6","secondary-darken-1":"#018786",error:"#B00020",info:"#2196F3",success:"#4CAF50",warning:"#FB8C00"}},domain:"",updated_at:"",created_at:""}),r=_([]),c=_(!1),l=_([{title:"Informações do Parceiro",component:it},{title:"Logotipo",component:pt},{title:"Personalização",component:ht}]),n=_(0),d=_([]);function f(m){r.value[n.value].validate().then(p=>{p.valid||d.value.push(n.value),p.valid&&(d.value=d.value.filter(i=>i!==n.value),m())})}const u=()=>{r.value[n.value].validate().then(m=>{if(m.valid||d.value.push(n.value),m.valid){c.value=!0;const p=new FormData;p.append("name",t.value.name),p.append("provider_uri",t.value.provider_uri),p.append("domain",t.value.domain),p.append("logo",t.value.logo),p.append("theme",JSON.stringify(t.value.theme)),De(p).then(()=>{const i=new URL(window.location.origin);i.host=`${t.value.domain}.${i.hostname}`,console.log(i.toString()),window.location.href=i.toString()}).catch(i=>{console.error(i)}).finally(()=>{c.value=!1})}})};return ie(()=>{t.value.theme.colors=x.current.value.colors}),(m,p)=>(b(),T(j,{class:"h-100"},{default:s(()=>[a(S,{cols:"12",class:"h-100 d-flex flex-column"},{default:s(()=>[a(nt,{modelValue:n.value,"onUpdate:modelValue":p[1]||(p[1]=i=>n.value=i),flat:"","non-linear":!0,class:"h-100 flex-grow-1 d-flex flex-column"},{actions:s(({prev:i,next:h})=>[W("div",gt,[A(a(C,{class:"mx-2",color:"primary",onClick:i},{default:s(()=>[$(" Voltar ")]),_:2},1032,["onClick"]),[[z,n.value!==0]]),A(a(C,{class:"mx-2",color:"primary",onClick:o=>f(h)},{default:s(()=>[$(" Próximo ")]),_:2},1032,["onClick"]),[[z,n.value!=l.value.length-1]]),A(a(C,{loading:c.value,ass:"mx-2",color:"primary",onClick:u},{default:s(()=>[$(" Criar ")]),_:1},8,["loading"]),[[z,n.value===l.value.length-1]])])]),default:s(()=>[a(pe,{class:"elevation-0 radius-0"},{default:s(()=>[(b(!0),F(E,null,q(l.value,(i,h)=>(b(),F(E,{key:h},[a(me,{complete:n.value>h,title:i.title,value:h},{icon:s(()=>[$(N(h+1),1)]),_:2},1032,["complete","title","value"]),h+1!=l.value.length?(b(),T(oe,{key:0})):K("",!0)],64))),128))]),_:1}),a(ve,{class:"flex-grow-1"},{default:s(()=>[(b(!0),F(E,null,q(l.value,(i,h)=>(b(),T(Ze,{ref_for:!0,ref_key:"itemRefs",ref:r,key:h,class:re(["d-flex flex-column",{"flex-grow-1":n.value===h}])},{default:s(()=>[a(fe,{value:h},{default:s(()=>[(b(),T(ue(i.component),{modelValue:t.value,"onUpdate:modelValue":p[0]||(p[0]=o=>t.value=o)},null,8,["modelValue"]))]),_:2},1032,["value"])]),_:2},1032,["class"]))),128))]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1}))}}),Bt=ce(xt,[["__scopeId","data-v-92aa814d"]]);export{Bt as default};
