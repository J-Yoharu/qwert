import{Y as u,ai as d,ar as f,r as n,o as _,as as m,a1 as e,a6 as a,h as t,a3 as i,ab as o,at as p,a8 as h,ae as v,au as g}from"./index-qD7YzMI5.js";import{V as k}from"./VSheet-BBLRjc8r.js";const b={class:"w-100 h-100 d-flex align-center justify-center"},y={key:0},V={key:1},q=u({__name:"Callback",setup(w){const c=d(),l=f(),r=n(!1),s=n(!1);return _(()=>{r.value=!0,m({grant_type:"authorization_code",code:c.query.code,redirect_uri:window.location.origin+"/#/auth/callback",client_id:"9c47ba71-68ea-4e83-95ef-b4f0abbb0ffc",code_verifier:sessionStorage.getItem("code_verifier")}).then(()=>{l.push({name:"totem.view"})}).catch(()=>{s.value=!0}).finally(()=>{r.value=!1})}),(x,C)=>(e(),a("div",b,[t(k,{class:"pa-4 text-center",rounded:"",width:"400"},{default:i(()=>[s.value?(e(),a("div",V,[o(" NÃ£o foi possivel se autenticar, por favor tente novamente mais tarde. "),t(h,{color:"primary",onClick:v(g)},{default:i(()=>[o(" Voltar para login ")]),_:1},8,["onClick"])])):(e(),a("div",y,[o(" Aguarde que estamos te autenticando... "),t(p,{indeterminate:"",color:"primary",class:"mt-4"})]))]),_:1})]))}});export{q as default};
