import{p as D,g as L,aJ as ge,f as O,h as a,D as Q,a8 as C,ba as Ve,bb as xe,aX as be,bc as we,c as x,aW as j,b6 as _e,ag as ye,V as le,aw as Se,bd as ke,u as Ce,i as q,be as Ie,bf as Pe,bg as Te,bh as We,bi as ee,C as $e,F as B,am as oe,Y as J,r as _,a0 as b,a6 as I,a2 as s,a3 as ne,a4 as E,aa as Be,af as T,bj as Ae,an as M,ak as re,b1 as He,ab as H,ac as Y,a7 as N,a5 as X,a1 as $,$ as se,s as v,b0 as k,o as ie,a$ as z,aF as ue,bk as je,bl as Fe,aY as De,aZ as Le,ae as ce,bm as Oe}from"./index-CDl_QKVk.js";import{_ as Re,V as Ue,a as ze}from"./Form.vue_vue_type_script_setup_true_lang-BaCq78p9.js";import{a as S,V as F}from"./VRow-Bt3TskwR.js";import{V as Ee}from"./VTextField-C3d9AFbr.js";import{r as Ne,a as U,_ as qe}from"./Init.vue_vue_type_script_setup_true_lang-BZak_Yxz.js";import{m as Je,V as P}from"./VSheet-B4KFF7X7.js";import{b as Me,V as G}from"./VList-9HnQ1n-1.js";import{a as Ge,V as Ye}from"./filter-c6zobYp7.js";import{m as Xe,V as te,b as Ze,a as ae}from"./VWindowItem-DpZurtrP.js";import{V as Ke}from"./VForm-CGAQok5a.js";import"./VTooltip-JSQoz77F.js";import"./VSlideGroup-DjE8cQEw.js";import"./validator-yckjBK8X.js";import"./ssrBoot-CeZ-lE3a.js";const de=D({color:String,disabled:{type:[Boolean,String],default:!1},prevText:{type:String,default:"$vuetify.stepper.prev"},nextText:{type:String,default:"$vuetify.stepper.next"}},"VStepperActions"),Qe=L()({name:"VStepperActions",props:de(),emits:{"click:prev":()=>!0,"click:next":()=>!0},setup(e,V){let{emit:t,slots:r}=V;const{t:i}=ge();function l(){t("click:prev")}function n(){t("click:next")}return O(()=>{const u={onClick:l},m={onClick:n};return a("div",{class:"v-stepper-actions"},[a(Q,{defaults:{VBtn:{disabled:["prev",!0].includes(e.disabled),text:i(e.prevText),variant:"text"}}},{default:()=>{var c;return[((c=r.prev)==null?void 0:c.call(r,{props:u}))??a(C,u,null)]}}),a(Q,{defaults:{VBtn:{color:e.color,disabled:["next",!0].includes(e.disabled),text:i(e.nextText),variant:"tonal"}}},{default:()=>{var c;return[((c=r.next)==null?void 0:c.call(r,{props:m}))??a(C,m,null)]}})])}),{}}}),pe=Ve("v-stepper-header"),et=D({color:String,title:String,subtitle:String,complete:Boolean,completeIcon:{type:String,default:"$complete"},editable:Boolean,editIcon:{type:String,default:"$edit"},error:Boolean,errorIcon:{type:String,default:"$error"},icon:String,ripple:{type:[Boolean,Object],default:!0},rules:{type:Array,default:()=>[]},...xe()},"VStepperItem"),me=L()({name:"VStepperItem",directives:{Ripple:be},props:et(),emits:{"group:selected":e=>!0},setup(e,V){let{slots:t}=V;const r=we(e,he,!0),i=x(()=>(r==null?void 0:r.value.value)??e.value),l=x(()=>e.rules.every(p=>p()===!0)),n=x(()=>!e.disabled&&e.editable),u=x(()=>e.error||!l.value),m=x(()=>e.complete||e.rules.length>0&&l.value),c=x(()=>u.value?e.errorIcon:m.value?e.completeIcon:e.editable?e.editIcon:e.icon),h=x(()=>({canEdit:n.value,hasError:u.value,hasCompleted:m.value,title:e.title,subtitle:e.subtitle,step:i.value,value:e.value}));return O(()=>{var g,w,y;const p=(!r||r.isSelected.value||m.value||n.value)&&!u.value&&!e.disabled,d=!!(e.title!=null||t.title),f=!!(e.subtitle!=null||t.subtitle);function o(){r==null||r.toggle()}return j(a("button",{class:["v-stepper-item",{"v-stepper-item--complete":m.value,"v-stepper-item--disabled":e.disabled,"v-stepper-item--error":u.value},r==null?void 0:r.selectedClass.value],disabled:!e.editable,onClick:o},[a(ye,{key:"stepper-avatar",class:"v-stepper-item__avatar",color:p?e.color:void 0,size:24},{default:()=>{var A;return[((A=t.icon)==null?void 0:A.call(t,h.value))??(c.value?a(le,{icon:c.value},null):i.value)]}}),a("div",{class:"v-stepper-item__content"},[d&&a("div",{key:"title",class:"v-stepper-item__title"},[((g=t.title)==null?void 0:g.call(t,h.value))??e.title]),f&&a("div",{key:"subtitle",class:"v-stepper-item__subtitle"},[((w=t.subtitle)==null?void 0:w.call(t,h.value))??e.subtitle]),(y=t.default)==null?void 0:y.call(t,h.value)])]),[[_e("ripple"),e.ripple&&e.editable,null]])}),{}}}),tt=Symbol.for("vuetify:v-stepper"),at=D({...Se(Xe(),["continuous","nextIcon","prevIcon","showArrows","touch","mandatory"])},"VStepperWindow"),ve=L()({name:"VStepperWindow",props:at(),emits:{"update:modelValue":e=>!0},setup(e,V){let{slots:t}=V;const r=ke(tt,null),i=Ce(e,"modelValue"),l=x({get(){var n;return i.value!=null||!r?i.value:(n=r.items.value.find(u=>r.selected.value.includes(u.id)))==null?void 0:n.value},set(n){i.value=n}});return O(()=>{const n=te.filterProps(e);return a(te,q({_as:"VStepperWindow"},n,{modelValue:l.value,"onUpdate:modelValue":u=>l.value=u,class:"v-stepper-window",mandatory:!1,touch:!1}),t)}),{}}}),lt=D({...Ze()},"VStepperWindowItem"),fe=L()({name:"VStepperWindowItem",props:lt(),setup(e,V){let{slots:t}=V;return O(()=>{const r=ae.filterProps(e);return a(ae,q({_as:"VStepperWindowItem"},r,{class:"v-stepper-window-item"}),t)}),{}}}),he=Symbol.for("vuetify:v-stepper"),ot=D({altLabels:Boolean,bgColor:String,editable:Boolean,hideActions:Boolean,items:{type:Array,default:()=>[]},itemTitle:{type:String,default:"title"},itemValue:{type:String,default:"value"},mobile:Boolean,nonLinear:Boolean,flat:Boolean,...Ie({mandatory:"force",selectedClass:"v-stepper-item--selected"}),...Je(),...Pe(de(),["prevText","nextText"])},"VStepper"),nt=L()({name:"VStepper",props:ot(),emits:{"update:modelValue":e=>!0},setup(e,V){let{slots:t}=V;const{items:r,next:i,prev:l,selected:n}=Te(e,he),{color:u,editable:m,prevText:c,nextText:h}=We(e),p=x(()=>e.items.map((o,g)=>{const w=ee(o,e.itemTitle,o),y=ee(o,e.itemValue,g+1);return{title:w,value:y,raw:o}})),d=x(()=>r.value.findIndex(o=>n.value.includes(o.id))),f=x(()=>e.disabled?e.disabled:d.value===0?"prev":d.value===r.value.length-1?"next":!1);return $e({VStepperItem:{editable:m,prevText:c,nextText:h},VStepperActions:{color:u,disabled:f,prevText:c,nextText:h}}),O(()=>{const o=P.filterProps(e),g=!!(t.header||e.items.length),w=e.items.length>0,y=!e.hideActions&&!!(w||t.actions);return a(P,q(o,{color:e.bgColor,class:["v-stepper",{"v-stepper--alt-labels":e.altLabels,"v-stepper--flat":e.flat,"v-stepper--non-linear":e.nonLinear,"v-stepper--mobile":e.mobile},e.class],style:e.style}),{default:()=>{var A,Z;return[g&&a(pe,{key:"stepper-header"},{default:()=>[p.value.map((W,R)=>a(B,null,[!!R&&a(oe,null,null),a(me,W,{default:t[`header-item.${W.value}`]??t.header,icon:t.icon,title:t.title,subtitle:t.subtitle})]))]}),w&&a(ve,{key:"stepper-window"},{default:()=>[p.value.map(W=>a(fe,{value:W.value},{default:()=>{var R,K;return((R=t[`item.${W.value}`])==null?void 0:R.call(t,W))??((K=t.item)==null?void 0:K.call(t,W))}}))]}),(A=t.default)==null?void 0:A.call(t,{prev:l,next:i}),y&&(((Z=t.actions)==null?void 0:Z.call(t,{next:i,prev:l}))??a(Qe,{key:"stepper-actions","onClick:prev":l,"onClick:next":i},t))]}})}),{prev:l,next:i}}}),rt=T("p",null,"Vamos configurar seu ambiente",-1),st=T("span",{class:"text-caption font-italic"},".saludti.com.br",-1),it=J({__name:"TenantInfo",props:{modelValue:{}},emits:["update:modelValue"],setup(e,{emit:V}){const t=e,r=V,i=x({get(){return t.modelValue},set(u){r("update:modelValue",u)}});async function l(){return(await Ae(i.value.domain)).data?"Subdomínio já existe":!0}const n=_([{component:"VTextField",value:"name",label:"Nome",required:!0,cols:{cols:6,md:12}},{component:"VTextField",value:"domain",label:"Sub-domínio",required:!0,cols:{cols:6,md:12}},{component:"VTextField",value:"provider_uri",label:"Url da API ERP do parceiro",props:{rules:["url"]},required:!0,cols:{cols:6,md:12}}]);return(u,m)=>(b(),I("div",null,[a(F,{class:"d-flex flex-md-column align-md-center"},{default:s(()=>[a(S,{cols:"12"},{default:s(()=>[a(ne,{src:E(Be),width:"100",height:"100",class:"mx-auto"},null,8,["src"])]),_:1}),a(S,{col:"12",md:"4",class:"text-center"},{default:s(()=>[rt]),_:1}),a(S,{cols:"12",md:"4"},{default:s(()=>[a(Re,{modelValue:i.value,"onUpdate:modelValue":m[1]||(m[1]=c=>i.value=c),form:n.value},{"item:domain":s(({props:c})=>[a(Ee,q({modelValue:i.value.domain,"onUpdate:modelValue":m[0]||(m[0]=h=>i.value.domain=h)},c,{rules:[...c.rules,l]}),{"append-inner":s(()=>[st]),_:2},1040,["modelValue","rules"])]),_:1},8,["modelValue","form"])]),_:1})]),_:1})]))}}),ut=T("p",null,"Vamos definir seu Logo",-1),ct={class:"d-flex justify-center align-center"},dt={class:"ml-2"},pt=J({__name:"TenantLogo",props:{modelValue:{},title:{default:"Arraste ou selecione um arquivo"},color:{default:"surface"},border:{type:[Boolean,String],default:!0},rounded:{type:[Boolean,String],default:!0},minHeight:{default:"120px"},height:{default:void 0},width:{default:void 0},class:{default:""},max_files:{},max_size:{}},emits:["update:modelValue"],setup(e,{emit:V}){const t=e,r=V,i=_(null),l=_(),n=_([]),u=x({get(){return t.modelValue},set(o){r("update:modelValue",o)}}),m=x(()=>l.value?l.value.errorMessages:[]);function c(o){u.value.logo=o,i.value=URL.createObjectURL(o)}function h(){l.value.click()}function p(o){n.value=[];const{items:g}=o.dataTransfer,w=Object.values(g).map(y=>y.getAsFile());if(w.length>1){n.value.push("Selecione apenas um arquivo");return}c(w[0])}function d(o){n.value=[];const{files:g}=o.clipboardData;if(g.length>1){n.value.push("Selecione apenas um arquivo");return}c(g[0])}function f(o){n.value=[];const{files:g}=o.target;c(g[0])}return(o,g)=>(b(),I("div",null,[a(F,null,{default:s(()=>[a(S,{col:"12",class:"text-center"},{default:s(()=>[ut]),_:1}),a(S,{cols:"12"},{default:s(()=>[a(P,{height:o.height,"min-height":o.minHeight,width:o.width,color:o.color,onClick:h,border:o.border,rounded:o.rounded,onDrop:M(p,["stop","prevent"]),onPaste:M(d,["stop","prevent"]),onDragover:g[0]||(g[0]=M(()=>{},["stop","prevent"])),class:re([o.class,"d-flex align-center justify-center pointer"])},{default:s(()=>[He(o.$slots,"title",{},()=>[T("div",ct,[a(le,null,{default:s(()=>[H("mdi-cloud-upload-outline")]),_:1}),T("span",dt,Y(o.title),1)])]),a(Ue,{modelValue:u.value.logo,style:{display:"none"},rules:[E(Ne)],"hide-details":"auto",ref_key:"fileInput",ref:l,onChange:f,accept:"image/*"},null,8,["modelValue","rules"])]),_:3},8,["height","min-height","width","color","border","rounded","class"]),n.value.length||m.value.length?(b(!0),I(B,{key:0},N([...n.value,...m.value],(w,y)=>(b(),I("p",{class:"text-caption text-error text-center",key:y},Y(w),1))),128)):X("",!0)]),_:3}),i.value?(b(),$(S,{key:0,cols:"12"},{default:s(()=>[a(ne,{src:i.value,height:"200"},null,8,["src"])]),_:1})):X("",!0)]),_:3})]))}}),mt=e=>(De("data-v-78ec2be6"),e=e(),Le(),e),vt=mt(()=>T("p",null,"Aqui é possivel personalizar o seu tema",-1)),ft=J({__name:"TenantTheme",props:{modelValue:{}},emits:["update:modelValue"],setup(e,{emit:V}){const t=e,r=V;let i=[];const l=_(!1),n=se(),u=_({name:"Primária",value:"primary",show:!0,component:v(U),props:{}}),m=x(()=>[{name:"Primária",value:"primary",show:!0,component:v(U),props:{}},{name:"Secundária",value:"secondary",show:!0,component:v(U),props:{}},{name:"Cor da navegação lateral",value:"nav-color",show:!0,component:v(U),props:{}},{name:"Teclado",value:"keyboard",show:!0,component:v(qe),props:{alwaysVisible:!0}},{name:"Erro",value:"error",show:l.value,component:v(C),props:{color:"error",text:"Hello World",size:"x-large"}},{name:"Info",value:"info",show:l.value,component:v(C),props:{color:"info",text:"Hello World",size:"x-large"}},{name:"Sucesso",value:"success",show:l.value,component:v(C),props:{color:"success",text:"Hello World",size:"x-large"}},{name:"Alerta",value:"warning",show:l.value,component:v(C),props:{color:"warning",text:"Hello World",size:"x-large"}},{name:"Plano de fundo",value:"background",show:l.value,component:v(P),props:{color:"background",width:"400px",height:"400px"}},{name:"Superfície",value:"surface",show:l.value,component:v(P),props:{color:"surface",width:"400px",height:"400px"}},{name:"Variante da Superfície",value:"surface-variant",show:l.value,component:v(P),props:{color:"surface-variant",width:"400px",height:"400px"}},{name:"Cor do texto no plano de fundo",value:"on-background",show:l.value,component:v(k),props:{color:"background",title:"Hello World",width:"200px",height:"200px"}},{name:"Cor do texto na superfície",value:"on-surface",show:l.value,component:v(k),props:{color:"surface",title:"Hello World",width:"200px",height:"200px"}},{name:"Cor do texto na variação da superfície",value:"on-surface-variant",show:l.value,component:v(k),props:{color:"surface-variant",title:"Hello World",width:"200px",height:"200px"}},{name:"Cor do texto na primária",value:"on-primary",show:l.value,component:v(k),props:{color:"primary",title:"Hello World",width:"200px",height:"200px"}},{name:"Cor do texto na secundária",value:"on-secondary",show:l.value,component:v(k),props:{color:"secondary",title:"Hello World",width:"200px",height:"200px"}},{name:"Cor do texto no sucesso",value:"on-success",show:l.value,component:v(k),props:{color:"success",title:"Hello World",width:"200px",height:"200px"}},{name:"Cor do texto no alerta",value:"on-warning",show:l.value,component:v(k),props:{color:"warning",title:"Hello World",width:"200px",height:"200px"}},{name:"Cor do texto no erro",value:"on-error",show:l.value,component:v(k),props:{color:"error",title:"Hello World",width:"200px",height:"200px"}},{name:"Cor do texto na informação",value:"on-info",show:l.value,component:v(k),props:{color:"info",title:"Hello World",width:"200px",height:"200px"}}]),c=x({get(){return t.modelValue},set(d){r("update:modelValue",d)}});function h(){const d=Object.assign({},n.themes.value.light,c.value.theme);Object.assign(n.themes.value,{light:d})}function p(){const d=Object.assign({},n.themes.value.light,i);Object.assign(n.themes.value,{light:d}),c.value.theme.colors=JSON.parse(JSON.stringify(n.current.value.colors))}return ie(()=>{i=Object.freeze(JSON.parse(JSON.stringify(n.current.value)))}),(d,f)=>(b(),I(B,null,[a(F,{class:"d-flex justify-center"},{default:s(()=>[a(S,{col:"12",md:"4",class:"text-center"},{default:s(()=>[vt]),_:1})]),_:1}),a(F,{class:"fill-height"},{default:s(()=>[a(S,{cols:"12",md:"4",class:"position-relative"},{default:s(()=>[a(Me,{density:"compact","min-height":"100%","max-height":"80%",class:"flex-grow-1 remove-scroll-context"},{default:s(()=>[a(G,{link:"",title:"Exibir avançados",active:l.value,onClick:f[0]||(f[0]=o=>l.value=!l.value)},{append:s(({isActive:o})=>[a(Ge,{"model-value":o},null,8,["model-value"])]),_:1},8,["active"]),(b(!0),I(B,null,N(m.value,o=>j((b(),$(G,{link:"",title:o.name,subtitle:c.value.theme.colors[o.value],onClick:g=>u.value={...o}},{append:s(()=>[a(E(P),{width:"30px",height:"30px",color:c.value.theme.colors[o.value],rounded:"lg",border:""},null,8,["color"])]),default:s(()=>[a(Ye,{activator:"parent","close-on-content-click":!1},{default:s(()=>[a(ze,{modelValue:c.value.theme.colors[o.value],"onUpdate:modelValue":[g=>c.value.theme.colors[o.value]=g,h],mode:"hex",modes:["hex"]},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024)]),_:2},1032,["title","subtitle","onClick"])),[[z,o.show]])),256)),a(G,{link:"",title:"Resetar",onClick:p,"append-icon":"mdi-backup-restore"})]),_:1})]),_:1}),a(S,{cols:"12",md:"8",class:"h-100"},{default:s(()=>[a(E(P),{width:"100%",height:"100%",border:"",class:"d-flex justify-center align-center"},{default:s(()=>[T("div",null,[(b(),$(ue(u.value.component),je(Fe(u.value.props)),null,16))])]),_:1})]),_:1})]),_:1})],64))}}),ht=ce(ft,[["__scopeId","data-v-78ec2be6"]]),gt={class:"d-flex align-center justify-center my-3"},Vt=J({__name:"CreateTenant",setup(e){const V=se(),t=_({id:0,name:"",provider_uri:"",logo:"",theme:{colors:{background:"",surface:"",primary:"",secondary:"",success:"",warning:"",error:"",info:""}},domain:"",updated_at:"",created_at:""}),r=_([]),i=_(!1),l=_([{title:"Informações do Parceiro",component:it},{title:"Logotipo",component:pt},{title:"Personalização",component:ht}]),n=_(2),u=_([]);function m(h){r.value[n.value].validate().then(p=>{p.valid||u.value.push(n.value),p.valid&&(u.value=u.value.filter(d=>d!==n.value),h())})}const c=()=>{r.value[n.value].validate().then(h=>{if(h.valid||u.value.push(n.value),h.valid){i.value=!0;const p=new FormData;p.append("name",t.value.name),p.append("provider_uri",t.value.provider_uri),p.append("domain",t.value.domain),p.append("logo",t.value.logo),p.append("theme",JSON.stringify(t.value.theme)),Oe(p).then(()=>{const d=new URL(window.location.origin);d.host=t.value.domain,window.location.href=d.toString()}).catch(d=>{console.error(d)}).finally(()=>{i.value=!1})}})};return ie(()=>{t.value.theme.colors=V.current.value.colors}),(h,p)=>(b(),$(F,{class:"h-100"},{default:s(()=>[a(S,{cols:"12",class:"h-100 d-flex flex-column"},{default:s(()=>[a(nt,{modelValue:n.value,"onUpdate:modelValue":p[1]||(p[1]=d=>n.value=d),flat:"","non-linear":!0,class:"h-100 flex-grow-1 d-flex flex-column"},{actions:s(({prev:d,next:f})=>[T("div",gt,[j(a(C,{class:"mx-2",color:"primary",onClick:d},{default:s(()=>[H(" Voltar ")]),_:2},1032,["onClick"]),[[z,n.value!==0]]),j(a(C,{class:"mx-2",color:"primary",onClick:o=>m(f)},{default:s(()=>[H(" Próximo ")]),_:2},1032,["onClick"]),[[z,n.value!=l.value.length-1]]),j(a(C,{loading:i.value,ass:"mx-2",color:"primary",onClick:c},{default:s(()=>[H(" Criar ")]),_:1},8,["loading"]),[[z,n.value===l.value.length-1]])])]),default:s(()=>[a(pe,{class:"elevation-0 radius-0"},{default:s(()=>[(b(!0),I(B,null,N(l.value,(d,f)=>(b(),I(B,{key:f},[a(me,{complete:n.value>f,title:d.title,value:f},{icon:s(()=>[H(Y(f+1),1)]),_:2},1032,["complete","title","value"]),f+1!=l.value.length?(b(),$(oe,{key:0})):X("",!0)],64))),128))]),_:1}),a(ve,{class:"flex-grow-1"},{default:s(()=>[(b(!0),I(B,null,N(l.value,(d,f)=>(b(),$(Ke,{ref_for:!0,ref_key:"itemRefs",ref:r,key:f,class:re(["d-flex flex-column",{"flex-grow-1":n.value===f}])},{default:s(()=>[a(fe,{value:f},{default:s(()=>[(b(),$(ue(d.component),{modelValue:t.value,"onUpdate:modelValue":p[0]||(p[0]=o=>t.value=o)},null,8,["modelValue"]))]),_:2},1032,["value"])]),_:2},1032,["class"]))),128))]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1}))}}),At=ce(Vt,[["__scopeId","data-v-06f63ba2"]]);export{At as default};
