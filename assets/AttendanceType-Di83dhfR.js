import{_ as k}from"./LayoutView.vue_vue_type_script_setup_true_lang-IMetWSzZ.js";import{Y as C,r as i,aD as D,ad as h,o as B,a0 as d,a6 as p,h as n,a2 as t,a8 as f,ab as v,af as _,i as L,F as g,a7 as N,a1 as S,ac as $}from"./index-eSwy3xtz.js";import{_ as w,g as E,d as I}from"./AttendanceTypeDialog.vue_vue_type_script_setup_true_lang-CRxI8U2m.js";import{d as j}from"./default-values-Cei7-cAt.js";import{V as F}from"./VDataTable-DppTqyZv.js";import{V as M}from"./filter-WSIZa-5s.js";import{b as U,V as z,c as P}from"./VList-Ck199v2W.js";import"./VRow-CBFz3Dht.js";import"./VSheet-D4hldqhc.js";import"./Dialog.vue_vue_type_script_setup_true_lang-CiiCaPsN.js";import"./Form.vue_vue_type_script_setup_true_lang-BEkuAhzz.js";import"./VTooltip-DEFrmTcV.js";import"./index-C-zpw9ZX.js";import"./VTextField-MS4vxye7.js";import"./validator-CPDVkU8G.js";import"./VSelectionControl--XLGJQvK.js";import"./VForm-DmbiyfSH.js";import"./VSlideGroup-04aVnn54.js";import"./ssrBoot-Bs0WsREi.js";const R={class:"d-flex justify-start"},Y=["src"],de=C({__name:"AttendanceType",setup(q){const l=i(!1),{closeAlert:y,openConfirmAlert:V}=D(),{setBreadcrumbs:T}=h();function A(a,{item:e}){s.value=structuredClone({...e})}const m=i(!1),s=i(structuredClone(j.attendanceType)),x=i([{align:"start",title:"Nome",value:"name"},{align:"start",title:"Icone",value:"icon"},{align:"start",title:"Descrição",value:"description"},{align:"start",title:"",value:"actions"}]),b=i([{title:"Editar",action:a=>{s.value={...a},l.value=!0}},{title:"Excluir",action:a=>{V({title:"Remover Tipo de Atendimento",text:`Deseja realmente remover o item <span class="text-no-wrap bg-primary pa-1 rounded"> ${a.name}</span>?`},e=>{e.value=!0,I(a.id).finally(()=>{e.value=!1,y(),u(!1)})})}}]),c=i([]);function u(a=!1){a&&(m.value=!0),E().then(e=>{c.value=e.data}).finally(()=>{m.value=!1})}return B(()=>{u(!0),T([{title:"Tipo de Atendimento",to:{name:"attendance-type.view"}}])}),(a,e)=>(d(),p(g,null,[n(k,{title:"Tipo de Atendimento",icon:"mdi-sitemap"},{action:t(()=>[n(f,{color:"primary",flat:"",onClick:e[0]||(e[0]=o=>l.value=!0)},{default:t(()=>[v(" Novo ")]),_:1})]),content:t(()=>[n(F,{headers:x.value,items:c.value,loading:m.value,"items-per-page":-1,"onDblclick:row":A},{"item.icon":t(({item:o})=>[_("div",R,[_("img",{src:o.icon,height:"30"},null,8,Y)])]),bottom:t(()=>[]),"item.actions":t(({item:o})=>[n(M,null,{activator:t(({props:r})=>[n(f,L({icon:"mdi-dots-horizontal",variant:"text"},r),null,16)]),default:t(()=>[n(U,null,{default:t(()=>[(d(!0),p(g,null,N(b.value,r=>(d(),S(z,{link:"",onClick:G=>r.action(o)},{default:t(()=>[n(P,null,{default:t(()=>[v($(r.title),1)]),_:2},1024)]),_:2},1032,["onClick"]))),256))]),_:2},1024)]),_:2},1024)]),_:2},1032,["headers","items","loading"])]),_:1}),n(w,{modelValue:l.value,"onUpdate:modelValue":e[1]||(e[1]=o=>l.value=o),item:s.value,"onUpdate:item":e[2]||(e[2]=o=>s.value=o),onSubmit:u},null,8,["modelValue","item"])],64))}});export{de as default};
